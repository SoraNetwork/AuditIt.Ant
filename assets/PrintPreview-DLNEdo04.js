import{d as v,r as m,o as _,f as g,m as w,b as i,F as C,n as h,h as l,k as e,j as o,t as a}from"./index-DXAPKMDa.js";import{Q as y}from"./browser-B5Ll5lpq.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"print-container"},k={class:"qr-code"},x={class:"details"},D=v({__name:"PrintPreview",setup(I){const u=g(),r=m([]),d=new Map,c=(n,s)=>{n&&d.set(s,n)},f=()=>{r.value.forEach(n=>{const s=d.get(n.id);s&&y.toCanvas(s,n.id,{width:100},t=>{t&&console.error(t)})})};return _(async()=>{const n=u.query.ids?.split(",");if(n&&n.length>0)try{const s=await w.post("/items/batch",n);r.value=s.data,await new Promise(t=>setTimeout(t,0)),f()}catch(s){console.error("Failed to fetch items for printing:",s)}}),(n,s)=>(l(),i("div",R,[(l(!0),i(C,null,h(r.value,t=>(l(),i("div",{key:t.id,class:"label"},[e("div",k,[e("canvas",{ref_for:!0,ref:p=>c(p,t.id)},null,512)]),e("div",x,[e("p",null,[s[0]||(s[0]=e("strong",null,"名称:",-1)),o(" "+a(t.itemDefinition?.name),1)]),e("p",null,[s[1]||(s[1]=e("strong",null,"仓库:",-1)),o(" "+a(t.warehouse?.name),1)]),e("p",null,[s[2]||(s[2]=e("strong",null,"外部ID:",-1)),o(" "+a(t.shortId),1)]),e("p",null,[s[3]||(s[3]=e("strong",null,"内部ID:",-1)),o(" "+a(t.id),1)])])]))),128))]))}}),Q=P(D,[["__scopeId","data-v-ac5027f6"]]);export{Q as default};
