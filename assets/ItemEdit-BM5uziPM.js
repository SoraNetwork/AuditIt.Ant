import{d as vt,r as Oe,L as mt,K as bt,s as At,o as yt,h as wt,i as xe,j as Ut,e as Ge,c as fe,n as Ke,p as Le,g as he,y as Ve,f as me,l as Ze,P as _t,m as tt,k as Me}from"./index-CQ6v603l.js";import{u as It}from"./itemStore-kXOmi_Tr.js";import{_ as Ft}from"./_plugin-vue_export-helper-DlAUqK2U.js";function Et(k,M){return M.forEach(function(L){L&&typeof L!="string"&&!Array.isArray(L)&&Object.keys(L).forEach(function(d){if(d!=="default"&&!(d in k)){var e=Object.getOwnPropertyDescriptor(L,d);Object.defineProperty(k,d,e.get?e:{enumerable:!0,get:function(){return L[d]}})}})}),Object.freeze(k)}function rt(k,M){return new Promise(function(L,d){let e;return Ct(k).then(function(t){try{return e=t,L(new Blob([M.slice(0,2),e,M.slice(2)],{type:"image/jpeg"}))}catch(s){return d(s)}},d)})}const Ct=k=>new Promise((M,L)=>{const d=new FileReader;d.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let s=0;if(t.getUint16(s)!==65496)return L("not a valid JPEG");for(s+=2;;){const f=t.getUint16(s);if(f===65498)break;const p=t.getUint16(s+2);if(f===65505&&t.getUint32(s+4)===1165519206){const A=s+10;let r;switch(t.getUint16(A)){case 18761:r=!0;break;case 19789:r=!1;break;default:return L("TIFF header contains invalid endian")}if(t.getUint16(A+2,r)!==42)return L("TIFF header contains invalid version");const i=t.getUint32(A+4,r),n=A+i+2+12*t.getUint16(A+i,r);for(let o=A+i+2;o<n;o+=12)if(t.getUint16(o,r)==274){if(t.getUint16(o+2,r)!==3)return L("Orientation data type is invalid");if(t.getUint32(o+4,r)!==1)return L("Orientation data count is invalid");t.setUint16(o+8,1,r);break}return M(e.slice(s,s+2+p))}s+=2+p}return M(new Blob)}),d.readAsArrayBuffer(k)});var Be={},xt={get exports(){return Be},set exports(k){Be=k}};(function(k){var M,L,d={};xt.exports=d,d.parse=function(e,t){for(var s=d.bin.readUshort,f=d.bin.readUint,p=0,A={},r=new Uint8Array(e),i=r.length-4;f(r,i)!=101010256;)i--;p=i,p+=4;var n=s(r,p+=4);s(r,p+=2);var o=f(r,p+=2),h=f(r,p+=4);p+=4,p=h;for(var U=0;U<n;U++){f(r,p),p+=4,p+=4,p+=4,f(r,p+=4),o=f(r,p+=4);var E=f(r,p+=4),m=s(r,p+=4),O=s(r,p+2),S=s(r,p+4);p+=6;var C=f(r,p+=8);p+=4,p+=m+O+S,d._readLocal(r,C,A,o,E,t)}return A},d._readLocal=function(e,t,s,f,p,A){var r=d.bin.readUshort,i=d.bin.readUint;i(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var o=r(e,t+=8),h=r(e,t+=2);t+=2;var U=d.bin.readUTF8(e,t,o);if(t+=o,t+=h,A)s[U]={size:p,csize:f};else{var E=new Uint8Array(e.buffer,t);if(n==0)s[U]=new Uint8Array(E.buffer.slice(t,t+f));else{if(n!=8)throw"unknown compression method: "+n;var m=new Uint8Array(p);d.inflateRaw(E,m),s[U]=m}}},d.inflateRaw=function(e,t){return d.F.inflate(e,t)},d.inflate=function(e,t){return e[0],e[1],d.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},d.deflate=function(e,t){t==null&&(t={level:6});var s=0,f=new Uint8Array(50+Math.floor(1.1*e.length));f[s]=120,f[s+1]=156,s+=2,s=d.F.deflateRaw(e,f,s,t.level);var p=d.adler(e,0,e.length);return f[s+0]=p>>>24&255,f[s+1]=p>>>16&255,f[s+2]=p>>>8&255,f[s+3]=p>>>0&255,new Uint8Array(f.buffer,0,s+4)},d.deflateRaw=function(e,t){t==null&&(t={level:6});var s=new Uint8Array(50+Math.floor(1.1*e.length)),f=d.F.deflateRaw(e,s,f,t.level);return new Uint8Array(s.buffer,0,f)},d.encode=function(e,t){t==null&&(t=!1);var s=0,f=d.bin.writeUint,p=d.bin.writeUshort,A={};for(var r in e){var i=!d._noNeed(r)&&!t,n=e[r],o=d.crc.crc(n,0,n.length);A[r]={cpr:i,usize:n.length,crc:o,file:i?d.deflateRaw(n):n}}for(var r in A)s+=A[r].file.length+30+46+2*d.bin.sizeUTF8(r);s+=22;var h=new Uint8Array(s),U=0,E=[];for(var r in A){var m=A[r];E.push(U),U=d._writeHeader(h,U,r,m,0)}var O=0,S=U;for(var r in A)m=A[r],E.push(U),U=d._writeHeader(h,U,r,m,1,E[O++]);var C=U-S;return f(h,U,101010256),U+=4,p(h,U+=4,O),p(h,U+=2,O),f(h,U+=2,C),f(h,U+=4,S),U+=4,U+=2,h.buffer},d._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},d._writeHeader=function(e,t,s,f,p,A){var r=d.bin.writeUint,i=d.bin.writeUshort,n=f.file;return r(e,t,p==0?67324752:33639248),t+=4,p==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,f.cpr?8:0),r(e,t+=2,0),r(e,t+=4,f.crc),r(e,t+=4,n.length),r(e,t+=4,f.usize),i(e,t+=4,d.bin.sizeUTF8(s)),i(e,t+=2,0),t+=2,p==1&&(t+=2,t+=2,r(e,t+=6,A),t+=4),t+=d.bin.writeUTF8(e,t,s),p==0&&(e.set(n,t),t+=n.length),t},d.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var s=t,f=0;f<8;f++)1&s?s=3988292384^s>>>1:s>>>=1;e[t]=s}return e}(),update:function(e,t,s,f){for(var p=0;p<f;p++)e=d.crc.table[255&(e^t[s+p])]^e>>>8;return e},crc:function(e,t,s){return 4294967295^d.crc.update(4294967295,e,t,s)}},d.adler=function(e,t,s){for(var f=1,p=0,A=t,r=t+s;A<r;){for(var i=Math.min(A+5552,r);A<i;)p+=f+=e[A++];f%=65521,p%=65521}return p<<16|f},d.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,s){e[t]=255&s,e[t+1]=s>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,s){e[t]=255&s,e[t+1]=s>>8&255,e[t+2]=s>>16&255,e[t+3]=s>>24&255},readASCII:function(e,t,s){for(var f="",p=0;p<s;p++)f+=String.fromCharCode(e[t+p]);return f},writeASCII:function(e,t,s){for(var f=0;f<s.length;f++)e[t+f]=s.charCodeAt(f)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,s){for(var f,p="",A=0;A<s;A++)p+="%"+d.bin.pad(e[t+A].toString(16));try{f=decodeURIComponent(p)}catch{return d.bin.readASCII(e,t,s)}return f},writeUTF8:function(e,t,s){for(var f=s.length,p=0,A=0;A<f;A++){var r=s.charCodeAt(A);if((4294967168&r)==0)e[t+p]=r,p++;else if((4294965248&r)==0)e[t+p]=192|r>>6,e[t+p+1]=128|r>>0&63,p+=2;else if((4294901760&r)==0)e[t+p]=224|r>>12,e[t+p+1]=128|r>>6&63,e[t+p+2]=128|r>>0&63,p+=3;else{if((4292870144&r)!=0)throw"e";e[t+p]=240|r>>18,e[t+p+1]=128|r>>12&63,e[t+p+2]=128|r>>6&63,e[t+p+3]=128|r>>0&63,p+=4}}return p},sizeUTF8:function(e){for(var t=e.length,s=0,f=0;f<t;f++){var p=e.charCodeAt(f);if((4294967168&p)==0)s++;else if((4294965248&p)==0)s+=2;else if((4294901760&p)==0)s+=3;else{if((4292870144&p)!=0)throw"e";s+=4}}return s}},d.F={},d.F.deflateRaw=function(e,t,s,f){var p=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][f],A=d.F.U,r=d.F._goodIndex;d.F._hash;var i=d.F._putsE,n=0,o=s<<3,h=0,U=e.length;if(f==0){for(;n<U;)i(t,o,n+(w=Math.min(65535,U-n))==U?1:0),o=d.F._copyExact(e,n,w,t,o+8),n+=w;return o>>>3}var E=A.lits,m=A.strt,O=A.prev,S=0,C=0,P=0,g=0,R=0,u=0;for(U>2&&(m[u=d.F._hash(e,0)]=0),n=0;n<U;n++){if(R=u,n+1<U-2){u=d.F._hash(e,n+1);var l=n+1&32767;O[l]=m[u],m[u]=l}if(h<=n){(S>14e3||C>26697)&&U-n>100&&(h<n&&(E[S]=n-h,S+=2,h=n),o=d.F._writeBlock(n==U-1||h==U?1:0,E,S,g,e,P,n-P,t,o),S=C=g=0,P=n);var v=0;n<U-2&&(v=d.F._bestMatch(e,n,O,R,Math.min(p[2],U-n),p[3]));var w=v>>>16,y=65535&v;if(v!=0){y=65535&v;var _=r(w=v>>>16,A.of0);A.lhst[257+_]++;var b=r(y,A.df0);A.dhst[b]++,g+=A.exb[_]+A.dxb[b],E[S]=w<<23|n-h,E[S+1]=y<<16|_<<8|b,S+=2,h=n+w}else A.lhst[e[n]]++;C++}}for(P==n&&e.length!=0||(h<n&&(E[S]=n-h,S+=2,h=n),o=d.F._writeBlock(1,E,S,g,e,P,n-P,t,o),S=0,C=0,S=C=g=0,P=n);(7&o)!=0;)o++;return o>>>3},d.F._bestMatch=function(e,t,s,f,p,A){var r=32767&t,i=s[r],n=r-i+32768&32767;if(i==r||f!=d.F._hash(e,t-n))return 0;for(var o=0,h=0,U=Math.min(32767,t);n<=U&&--A!=0&&i!=r;){if(o==0||e[t+o]==e[t+o-n]){var E=d.F._howLong(e,t,n);if(E>o){if(h=n,(o=E)>=p)break;n+2<E&&(E=n+2);for(var m=0,O=0;O<E-2;O++){var S=t-n+O+32768&32767,C=S-s[S]+32768&32767;C>m&&(m=C,i=S)}}}n+=(r=i)-(i=s[r])+32768&32767}return o<<16|h},d.F._howLong=function(e,t,s){if(e[t]!=e[t-s]||e[t+1]!=e[t+1-s]||e[t+2]!=e[t+2-s])return 0;var f=t,p=Math.min(e.length,t+258);for(t+=3;t<p&&e[t]==e[t-s];)t++;return t-f},d.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},d.saved=0,d.F._writeBlock=function(e,t,s,f,p,A,r,i,n){var o,h,U,E,m,O,S,C,P,g=d.F.U,R=d.F._putsF,u=d.F._putsE;g.lhst[256]++,h=(o=d.F.getTrees())[0],U=o[1],E=o[2],m=o[3],O=o[4],S=o[5],C=o[6],P=o[7];var l=32+((n+3&7)==0?0:8-(n+3&7))+(r<<3),v=f+d.F.contSize(g.fltree,g.lhst)+d.F.contSize(g.fdtree,g.dhst),w=f+d.F.contSize(g.ltree,g.lhst)+d.F.contSize(g.dtree,g.dhst);w+=14+3*S+d.F.contSize(g.itree,g.ihst)+(2*g.ihst[16]+3*g.ihst[17]+7*g.ihst[18]);for(var y=0;y<286;y++)g.lhst[y]=0;for(y=0;y<30;y++)g.dhst[y]=0;for(y=0;y<19;y++)g.ihst[y]=0;var _=l<v&&l<w?0:v<w?1:2;if(R(i,n,e),R(i,n+1,_),n+=3,_==0){for(;(7&n)!=0;)n++;n=d.F._copyExact(p,A,r,i,n)}else{var b,F;if(_==1&&(b=g.fltree,F=g.fdtree),_==2){d.F.makeCodes(g.ltree,h),d.F.revCodes(g.ltree,h),d.F.makeCodes(g.dtree,U),d.F.revCodes(g.dtree,U),d.F.makeCodes(g.itree,E),d.F.revCodes(g.itree,E),b=g.ltree,F=g.dtree,u(i,n,m-257),u(i,n+=5,O-1),u(i,n+=5,S-4),n+=4;for(var c=0;c<S;c++)u(i,n+3*c,g.itree[1+(g.ordr[c]<<1)]);n+=3*S,n=d.F._codeTiny(C,g.itree,i,n),n=d.F._codeTiny(P,g.itree,i,n)}for(var a=A,T=0;T<s;T+=2){for(var I=t[T],D=I>>>23,z=a+(8388607&I);a<z;)n=d.F._writeLit(p[a++],b,i,n);if(D!=0){var B=t[T+1],N=B>>16,H=B>>8&255,x=255&B;u(i,n=d.F._writeLit(257+H,b,i,n),D-g.of0[H]),n+=g.exb[H],R(i,n=d.F._writeLit(x,F,i,n),N-g.df0[x]),n+=g.dxb[x],a+=D}}n=d.F._writeLit(256,b,i,n)}return n},d.F._copyExact=function(e,t,s,f,p){var A=p>>>3;return f[A]=s,f[A+1]=s>>>8,f[A+2]=255-f[A],f[A+3]=255-f[A+1],A+=4,f.set(new Uint8Array(e.buffer,t,s),A),p+(s+4<<3)},d.F.getTrees=function(){for(var e=d.F.U,t=d.F._hufTree(e.lhst,e.ltree,15),s=d.F._hufTree(e.dhst,e.dtree,15),f=[],p=d.F._lenCodes(e.ltree,f),A=[],r=d.F._lenCodes(e.dtree,A),i=0;i<f.length;i+=2)e.ihst[f[i]]++;for(i=0;i<A.length;i+=2)e.ihst[A[i]]++;for(var n=d.F._hufTree(e.ihst,e.itree,7),o=19;o>4&&e.itree[1+(e.ordr[o-1]<<1)]==0;)o--;return[t,s,n,p,r,o,f,A]},d.F.getSecond=function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(e[s+1]);return t},d.F.nonZero=function(e){for(var t="",s=0;s<e.length;s+=2)e[s+1]!=0&&(t+=(s>>1)+",");return t},d.F.contSize=function(e,t){for(var s=0,f=0;f<t.length;f++)s+=t[f]*e[1+(f<<1)];return s},d.F._codeTiny=function(e,t,s,f){for(var p=0;p<e.length;p+=2){var A=e[p],r=e[p+1];f=d.F._writeLit(A,t,s,f);var i=A==16?2:A==17?3:7;A>15&&(d.F._putsE(s,f,r,i),f+=i)}return f},d.F._lenCodes=function(e,t){for(var s=e.length;s!=2&&e[s-1]==0;)s-=2;for(var f=0;f<s;f+=2){var p=e[f+1],A=f+3<s?e[f+3]:-1,r=f+5<s?e[f+5]:-1,i=f==0?-1:e[f-1];if(p==0&&A==p&&r==p){for(var n=f+5;n+2<s&&e[n+2]==p;)n+=2;(o=Math.min(n+1-f>>>1,138))<11?t.push(17,o-3):t.push(18,o-11),f+=2*o-2}else if(p==i&&A==p&&r==p){for(n=f+5;n+2<s&&e[n+2]==p;)n+=2;var o=Math.min(n+1-f>>>1,6);t.push(16,o-3),f+=2*o-2}else t.push(p,0)}return s>>>1},d.F._hufTree=function(e,t,s){var f=[],p=e.length,A=t.length,r=0;for(r=0;r<A;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<p;r++)e[r]!=0&&f.push({lit:r,f:e[r]});var i=f.length,n=f.slice(0);if(i==0)return 0;if(i==1){var o=f[0].lit;return n=o==0?1:0,t[1+(o<<1)]=1,t[1+(n<<1)]=1,1}f.sort(function(C,P){return C.f-P.f});var h=f[0],U=f[1],E=0,m=1,O=2;for(f[0]={lit:-1,f:h.f+U.f,l:h,r:U,d:0};m!=i-1;)h=E!=m&&(O==i||f[E].f<f[O].f)?f[E++]:f[O++],U=E!=m&&(O==i||f[E].f<f[O].f)?f[E++]:f[O++],f[m++]={lit:-1,f:h.f+U.f,l:h,r:U};var S=d.F.setDepth(f[m-1],0);for(S>s&&(d.F.restrictDepth(n,s,S),S=s),r=0;r<i;r++)t[1+(n[r].lit<<1)]=n[r].d;return S},d.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(d.F.setDepth(e.l,t+1),d.F.setDepth(e.r,t+1))},d.F.restrictDepth=function(e,t,s){var f=0,p=1<<s-t,A=0;for(e.sort(function(i,n){return n.d==i.d?i.f-n.f:n.d-i.d}),f=0;f<e.length&&e[f].d>t;f++){var r=e[f].d;e[f].d=t,A+=p-(1<<s-r)}for(A>>>=s-t;A>0;)(r=e[f].d)<t?(e[f].d++,A-=1<<t-r-1):f++;for(;f>=0;f--)e[f].d==t&&A<0&&(e[f].d--,A++);A!=0&&console.log("debt left")},d.F._goodIndex=function(e,t){var s=0;return t[16|s]<=e&&(s|=16),t[8|s]<=e&&(s|=8),t[4|s]<=e&&(s|=4),t[2|s]<=e&&(s|=2),t[1|s]<=e&&(s|=1),s},d.F._writeLit=function(e,t,s,f){return d.F._putsF(s,f,t[e<<1]),f+t[1+(e<<1)]},d.F.inflate=function(e,t){var s=Uint8Array;if(e[0]==3&&e[1]==0)return t||new s(0);var f=d.F,p=f._bitsF,A=f._bitsE,r=f._decodeTiny,i=f.makeCodes,n=f.codes2map,o=f._get17,h=f.U,U=t==null;U&&(t=new s(e.length>>>2<<3));for(var E,m,O=0,S=0,C=0,P=0,g=0,R=0,u=0,l=0,v=0;O==0;)if(O=p(e,v,1),S=p(e,v+1,2),v+=3,S!=0){if(U&&(t=d.F._check(t,l+(1<<17))),S==1&&(E=h.flmap,m=h.fdmap,R=511,u=31),S==2){C=A(e,v,5)+257,P=A(e,v+5,5)+1,g=A(e,v+10,4)+4,v+=14;for(var w=0;w<38;w+=2)h.itree[w]=0,h.itree[w+1]=0;var y=1;for(w=0;w<g;w++){var _=A(e,v+3*w,3);h.itree[1+(h.ordr[w]<<1)]=_,_>y&&(y=_)}v+=3*g,i(h.itree,y),n(h.itree,y,h.imap),E=h.lmap,m=h.dmap,v=r(h.imap,(1<<y)-1,C+P,e,v,h.ttree);var b=f._copyOut(h.ttree,0,C,h.ltree);R=(1<<b)-1;var F=f._copyOut(h.ttree,C,P,h.dtree);u=(1<<F)-1,i(h.ltree,b),n(h.ltree,b,E),i(h.dtree,F),n(h.dtree,F,m)}for(;;){var c=E[o(e,v)&R];v+=15&c;var a=c>>>4;if(!(a>>>8))t[l++]=a;else{if(a==256)break;var T=l+a-254;if(a>264){var I=h.ldef[a-257];T=l+(I>>>3)+A(e,v,7&I),v+=7&I}var D=m[o(e,v)&u];v+=15&D;var z=D>>>4,B=h.ddef[z],N=(B>>>4)+p(e,v,15&B);for(v+=15&B,U&&(t=d.F._check(t,l+(1<<17)));l<T;)t[l]=t[l++-N],t[l]=t[l++-N],t[l]=t[l++-N],t[l]=t[l++-N];l=T}}}else{(7&v)!=0&&(v+=8-(7&v));var H=4+(v>>>3),x=e[H-4]|e[H-3]<<8;U&&(t=d.F._check(t,l+x)),t.set(new s(e.buffer,e.byteOffset+H,x),l),v=H+x<<3,l+=x}return t.length==l?t:t.slice(0,l)},d.F._check=function(e,t){var s=e.length;if(t<=s)return e;var f=new Uint8Array(Math.max(s<<1,t));return f.set(e,0),f},d.F._decodeTiny=function(e,t,s,f,p,A){for(var r=d.F._bitsE,i=d.F._get17,n=0;n<s;){var o=e[i(f,p)&t];p+=15&o;var h=o>>>4;if(h<=15)A[n]=h,n++;else{var U=0,E=0;h==16?(E=3+r(f,p,2),p+=2,U=A[n-1]):h==17?(E=3+r(f,p,3),p+=3):h==18&&(E=11+r(f,p,7),p+=7);for(var m=n+E;n<m;)A[n]=U,n++}}return p},d.F._copyOut=function(e,t,s,f){for(var p=0,A=0,r=f.length>>>1;A<s;){var i=e[A+t];f[A<<1]=0,f[1+(A<<1)]=i,i>p&&(p=i),A++}for(;A<r;)f[A<<1]=0,f[1+(A<<1)]=0,A++;return p},d.F.makeCodes=function(e,t){for(var s,f,p,A,r=d.F.U,i=e.length,n=r.bl_count,o=0;o<=t;o++)n[o]=0;for(o=1;o<i;o+=2)n[e[o]]++;var h=r.next_code;for(s=0,n[0]=0,f=1;f<=t;f++)s=s+n[f-1]<<1,h[f]=s;for(p=0;p<i;p+=2)(A=e[p+1])!=0&&(e[p]=h[A],h[A]++)},d.F.codes2map=function(e,t,s){for(var f=e.length,p=d.F.U.rev15,A=0;A<f;A+=2)if(e[A+1]!=0)for(var r=A>>1,i=e[A+1],n=r<<4|i,o=t-i,h=e[A]<<o,U=h+(1<<o);h!=U;)s[p[h]>>>15-t]=n,h++},d.F.revCodes=function(e,t){for(var s=d.F.U.rev15,f=15-t,p=0;p<e.length;p+=2){var A=e[p]<<t-e[p+1];e[p]=s[A]>>>f}},d.F._putsE=function(e,t,s){s<<=7&t;var f=t>>>3;e[f]|=s,e[f+1]|=s>>>8},d.F._putsF=function(e,t,s){s<<=7&t;var f=t>>>3;e[f]|=s,e[f+1]|=s>>>8,e[f+2]|=s>>>16},d.F._bitsE=function(e,t,s){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<s)-1},d.F._bitsF=function(e,t,s){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<s)-1},d.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},d.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},d.F.U=(M=Uint16Array,L=Uint32Array,{next_code:new M(16),bl_count:new M(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new M(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new L(32),flmap:new M(512),fltree:[],fdmap:new M(32),fdtree:[],lmap:new M(32768),ltree:[],ttree:[],dmap:new M(32768),dtree:[],imap:new M(512),itree:[],rev15:new M(32768),lhst:new L(286),dhst:new L(30),ihst:new L(19),lits:new L(15e3),strt:new M(65536),prev:new M(32768)}),function(){for(var e=d.F.U,t=0;t<32768;t++){var s=t;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,e.rev15[t]=(s>>>16|s<<16)>>>17}function f(p,A,r){for(;A--!=0;)p.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];f(e.fltree,144,8),f(e.fltree,112,9),f(e.fltree,24,7),f(e.fltree,8,8),d.F.makeCodes(e.fltree,9),d.F.codes2map(e.fltree,9,e.flmap),d.F.revCodes(e.fltree,9),f(e.fdtree,32,5),d.F.makeCodes(e.fdtree,5),d.F.codes2map(e.fdtree,5,e.fdmap),d.F.revCodes(e.fdtree,5),f(e.itree,19,0),f(e.ltree,286,0),f(e.dtree,30,0),f(e.ttree,320,0)}()})();var Rt=Et({__proto__:null,default:Be},[Be]);const ge=function(){var k={nextZero(r,i){for(;r[i]!=0;)i++;return i},readUshort:(r,i)=>r[i]<<8|r[i+1],writeUshort(r,i,n){r[i]=n>>8&255,r[i+1]=255&n},readUint:(r,i)=>16777216*r[i]+(r[i+1]<<16|r[i+2]<<8|r[i+3]),writeUint(r,i,n){r[i]=n>>24&255,r[i+1]=n>>16&255,r[i+2]=n>>8&255,r[i+3]=255&n},readASCII(r,i,n){let o="";for(let h=0;h<n;h++)o+=String.fromCharCode(r[i+h]);return o},writeASCII(r,i,n){for(let o=0;o<n.length;o++)r[i+o]=n.charCodeAt(o)},readBytes(r,i,n){const o=[];for(let h=0;h<n;h++)o.push(r[i+h]);return o},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,i,n){let o,h="";for(let U=0;U<n;U++)h+=`%${k.pad(r[i+U].toString(16))}`;try{o=decodeURIComponent(h)}catch{return k.readASCII(r,i,n)}return o}};function M(r,i,n,o){const h=i*n,U=t(o),E=Math.ceil(i*U/8),m=new Uint8Array(4*h),O=new Uint32Array(m.buffer),{ctype:S}=o,{depth:C}=o,P=k.readUshort;if(S==6){const I=h<<2;if(C==8)for(var g=0;g<I;g+=4)m[g]=r[g],m[g+1]=r[g+1],m[g+2]=r[g+2],m[g+3]=r[g+3];if(C==16)for(g=0;g<I;g++)m[g]=r[g<<1]}else if(S==2){const I=o.tabs.tRNS;if(I==null){if(C==8)for(g=0;g<h;g++){var R=3*g;O[g]=255<<24|r[R+2]<<16|r[R+1]<<8|r[R]}if(C==16)for(g=0;g<h;g++)R=6*g,O[g]=255<<24|r[R+4]<<16|r[R+2]<<8|r[R]}else{var u=I[0];const D=I[1],z=I[2];if(C==8)for(g=0;g<h;g++){var l=g<<2;R=3*g,O[g]=255<<24|r[R+2]<<16|r[R+1]<<8|r[R],r[R]==u&&r[R+1]==D&&r[R+2]==z&&(m[l+3]=0)}if(C==16)for(g=0;g<h;g++)l=g<<2,R=6*g,O[g]=255<<24|r[R+4]<<16|r[R+2]<<8|r[R],P(r,R)==u&&P(r,R+2)==D&&P(r,R+4)==z&&(m[l+3]=0)}}else if(S==3){const I=o.tabs.PLTE,D=o.tabs.tRNS,z=D?D.length:0;if(C==1)for(var v=0;v<n;v++){var w=v*E,y=v*i;for(g=0;g<i;g++){l=y+g<<2;var _=3*(b=r[w+(g>>3)]>>7-((7&g)<<0)&1);m[l]=I[_],m[l+1]=I[_+1],m[l+2]=I[_+2],m[l+3]=b<z?D[b]:255}}if(C==2)for(v=0;v<n;v++)for(w=v*E,y=v*i,g=0;g<i;g++)l=y+g<<2,_=3*(b=r[w+(g>>2)]>>6-((3&g)<<1)&3),m[l]=I[_],m[l+1]=I[_+1],m[l+2]=I[_+2],m[l+3]=b<z?D[b]:255;if(C==4)for(v=0;v<n;v++)for(w=v*E,y=v*i,g=0;g<i;g++)l=y+g<<2,_=3*(b=r[w+(g>>1)]>>4-((1&g)<<2)&15),m[l]=I[_],m[l+1]=I[_+1],m[l+2]=I[_+2],m[l+3]=b<z?D[b]:255;if(C==8)for(g=0;g<h;g++){var b;l=g<<2,_=3*(b=r[g]),m[l]=I[_],m[l+1]=I[_+1],m[l+2]=I[_+2],m[l+3]=b<z?D[b]:255}}else if(S==4){if(C==8)for(g=0;g<h;g++){l=g<<2;var F=r[c=g<<1];m[l]=F,m[l+1]=F,m[l+2]=F,m[l+3]=r[c+1]}if(C==16)for(g=0;g<h;g++){var c;l=g<<2,F=r[c=g<<2],m[l]=F,m[l+1]=F,m[l+2]=F,m[l+3]=r[c+2]}}else if(S==0)for(u=o.tabs.tRNS?o.tabs.tRNS:-1,v=0;v<n;v++){const I=v*E,D=v*i;if(C==1)for(var a=0;a<i;a++){var T=(F=255*(r[I+(a>>>3)]>>>7-(7&a)&1))==255*u?0:255;O[D+a]=T<<24|F<<16|F<<8|F}else if(C==2)for(a=0;a<i;a++)T=(F=85*(r[I+(a>>>2)]>>>6-((3&a)<<1)&3))==85*u?0:255,O[D+a]=T<<24|F<<16|F<<8|F;else if(C==4)for(a=0;a<i;a++)T=(F=17*(r[I+(a>>>1)]>>>4-((1&a)<<2)&15))==17*u?0:255,O[D+a]=T<<24|F<<16|F<<8|F;else if(C==8)for(a=0;a<i;a++)T=(F=r[I+a])==u?0:255,O[D+a]=T<<24|F<<16|F<<8|F;else if(C==16)for(a=0;a<i;a++)F=r[I+(a<<1)],T=P(r,I+(a<<1))==u?0:255,O[D+a]=T<<24|F<<16|F<<8|F}return m}function L(r,i,n,o){const h=t(r),U=Math.ceil(n*h/8),E=new Uint8Array((U+1+r.interlace)*o);return i=r.tabs.CgBI?e(i,E):d(i,E),r.interlace==0?i=s(i,r,0,n,o):r.interlace==1&&(i=function(O,S){const C=S.width,P=S.height,g=t(S),R=g>>3,u=Math.ceil(C*g/8),l=new Uint8Array(P*u);let v=0;const w=[0,0,4,0,2,0,1],y=[0,4,0,2,0,1,0],_=[8,8,8,4,4,2,2],b=[8,8,4,4,2,2,1];let F=0;for(;F<7;){const a=_[F],T=b[F];let I=0,D=0,z=w[F];for(;z<P;)z+=a,D++;let B=y[F];for(;B<C;)B+=T,I++;const N=Math.ceil(I*g/8);s(O,S,v,I,D);let H=0,x=w[F];for(;x<P;){let Q=y[F],V=v+H*N<<3;for(;Q<C;){var c;if(g==1&&(c=(c=O[V>>3])>>7-(7&V)&1,l[x*u+(Q>>3)]|=c<<7-((7&Q)<<0)),g==2&&(c=(c=O[V>>3])>>6-(7&V)&3,l[x*u+(Q>>2)]|=c<<6-((3&Q)<<1)),g==4&&(c=(c=O[V>>3])>>4-(7&V)&15,l[x*u+(Q>>1)]|=c<<4-((1&Q)<<2)),g>=8){const j=x*u+Q*R;for(let W=0;W<R;W++)l[j+W]=O[(V>>3)+W]}V+=g,Q+=T}H++,x+=a}I*D!=0&&(v+=D*(1+N)),F+=1}return l}(i,r)),i}function d(r,i){return e(new Uint8Array(r.buffer,2,r.length-6),i)}var e=function(){const r={H:{}};return r.H.N=function(i,n){const o=Uint8Array;let h,U,E=0,m=0,O=0,S=0,C=0,P=0,g=0,R=0,u=0;if(i[0]==3&&i[1]==0)return n||new o(0);const l=r.H,v=l.b,w=l.e,y=l.R,_=l.n,b=l.A,F=l.Z,c=l.m,a=n==null;for(a&&(n=new o(i.length>>>2<<5));E==0;)if(E=v(i,u,1),m=v(i,u+1,2),u+=3,m!=0){if(a&&(n=r.H.W(n,R+(1<<17))),m==1&&(h=c.J,U=c.h,P=511,g=31),m==2){O=w(i,u,5)+257,S=w(i,u+5,5)+1,C=w(i,u+10,4)+4,u+=14;let I=1;for(var T=0;T<38;T+=2)c.Q[T]=0,c.Q[T+1]=0;for(T=0;T<C;T++){const B=w(i,u+3*T,3);c.Q[1+(c.X[T]<<1)]=B,B>I&&(I=B)}u+=3*C,_(c.Q,I),b(c.Q,I,c.u),h=c.w,U=c.d,u=y(c.u,(1<<I)-1,O+S,i,u,c.v);const D=l.V(c.v,0,O,c.C);P=(1<<D)-1;const z=l.V(c.v,O,S,c.D);g=(1<<z)-1,_(c.C,D),b(c.C,D,h),_(c.D,z),b(c.D,z,U)}for(;;){const I=h[F(i,u)&P];u+=15&I;const D=I>>>4;if(!(D>>>8))n[R++]=D;else{if(D==256)break;{let z=R+D-254;if(D>264){const Q=c.q[D-257];z=R+(Q>>>3)+w(i,u,7&Q),u+=7&Q}const B=U[F(i,u)&g];u+=15&B;const N=B>>>4,H=c.c[N],x=(H>>>4)+v(i,u,15&H);for(u+=15&H;R<z;)n[R]=n[R++-x],n[R]=n[R++-x],n[R]=n[R++-x],n[R]=n[R++-x];R=z}}}}else{(7&u)!=0&&(u+=8-(7&u));const I=4+(u>>>3),D=i[I-4]|i[I-3]<<8;a&&(n=r.H.W(n,R+D)),n.set(new o(i.buffer,i.byteOffset+I,D),R),u=I+D<<3,R+=D}return n.length==R?n:n.slice(0,R)},r.H.W=function(i,n){const o=i.length;if(n<=o)return i;const h=new Uint8Array(o<<1);return h.set(i,0),h},r.H.R=function(i,n,o,h,U,E){const m=r.H.e,O=r.H.Z;let S=0;for(;S<o;){const C=i[O(h,U)&n];U+=15&C;const P=C>>>4;if(P<=15)E[S]=P,S++;else{let g=0,R=0;P==16?(R=3+m(h,U,2),U+=2,g=E[S-1]):P==17?(R=3+m(h,U,3),U+=3):P==18&&(R=11+m(h,U,7),U+=7);const u=S+R;for(;S<u;)E[S]=g,S++}}return U},r.H.V=function(i,n,o,h){let U=0,E=0;const m=h.length>>>1;for(;E<o;){const O=i[E+n];h[E<<1]=0,h[1+(E<<1)]=O,O>U&&(U=O),E++}for(;E<m;)h[E<<1]=0,h[1+(E<<1)]=0,E++;return U},r.H.n=function(i,n){const o=r.H.m,h=i.length;let U,E,m,O;const S=o.j;for(var C=0;C<=n;C++)S[C]=0;for(C=1;C<h;C+=2)S[i[C]]++;const P=o.K;for(U=0,S[0]=0,E=1;E<=n;E++)U=U+S[E-1]<<1,P[E]=U;for(m=0;m<h;m+=2)O=i[m+1],O!=0&&(i[m]=P[O],P[O]++)},r.H.A=function(i,n,o){const h=i.length,U=r.H.m.r;for(let E=0;E<h;E+=2)if(i[E+1]!=0){const m=E>>1,O=i[E+1],S=m<<4|O,C=n-O;let P=i[E]<<C;const g=P+(1<<C);for(;P!=g;)o[U[P]>>>15-n]=S,P++}},r.H.l=function(i,n){const o=r.H.m.r,h=15-n;for(let U=0;U<i.length;U+=2){const E=i[U]<<n-i[U+1];i[U]=o[E]>>>h}},r.H.M=function(i,n,o){o<<=7&n;const h=n>>>3;i[h]|=o,i[h+1]|=o>>>8},r.H.I=function(i,n,o){o<<=7&n;const h=n>>>3;i[h]|=o,i[h+1]|=o>>>8,i[h+2]|=o>>>16},r.H.e=function(i,n,o){return(i[n>>>3]|i[1+(n>>>3)]<<8)>>>(7&n)&(1<<o)-1},r.H.b=function(i,n,o){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)&(1<<o)-1},r.H.Z=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16|i[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=function(){const i=Uint16Array,n=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=r.H.m;for(var n=0;n<32768;n++){let h=n;h=(2863311530&h)>>>1|(1431655765&h)<<1,h=(3435973836&h)>>>2|(858993459&h)<<2,h=(4042322160&h)>>>4|(252645135&h)<<4,h=(4278255360&h)>>>8|(16711935&h)<<8,i.r[n]=(h>>>16|h<<16)>>>17}function o(h,U,E){for(;U--!=0;)h.push(0,E)}for(n=0;n<32;n++)i.q[n]=i.S[n]<<3|i.T[n],i.c[n]=i.p[n]<<4|i.z[n];o(i._,144,8),o(i._,112,9),o(i._,24,7),o(i._,8,8),r.H.n(i._,9),r.H.A(i._,9,i.J),r.H.l(i._,9),o(i.$,32,5),r.H.n(i.$,5),r.H.A(i.$,5,i.h),r.H.l(i.$,5),o(i.Q,19,0),o(i.C,286,0),o(i.D,30,0),o(i.v,320,0)}(),r.H.N}();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function s(r,i,n,o,h){let U=t(i);const E=Math.ceil(o*U/8);let m,O;U=Math.ceil(U/8);let S=r[n],C=0;if(S>1&&(r[n]=[0,0,1][S-2]),S==3)for(C=U;C<E;C++)r[C+1]=r[C+1]+(r[C+1-U]>>>1)&255;for(let P=0;P<h;P++)if(m=n+P*E,O=m+P+1,S=r[O-1],C=0,S==0)for(;C<E;C++)r[m+C]=r[O+C];else if(S==1){for(;C<U;C++)r[m+C]=r[O+C];for(;C<E;C++)r[m+C]=r[O+C]+r[m+C-U]}else if(S==2)for(;C<E;C++)r[m+C]=r[O+C]+r[m+C-E];else if(S==3){for(;C<U;C++)r[m+C]=r[O+C]+(r[m+C-E]>>>1);for(;C<E;C++)r[m+C]=r[O+C]+(r[m+C-E]+r[m+C-U]>>>1)}else{for(;C<U;C++)r[m+C]=r[O+C]+f(0,r[m+C-E],0);for(;C<E;C++)r[m+C]=r[O+C]+f(r[m+C-U],r[m+C-E],r[m+C-U-E])}return r}function f(r,i,n){const o=r+i-n,h=o-r,U=o-i,E=o-n;return h*h<=U*U&&h*h<=E*E?r:U*U<=E*E?i:n}function p(r,i,n){n.width=k.readUint(r,i),i+=4,n.height=k.readUint(r,i),i+=4,n.depth=r[i],i++,n.ctype=r[i],i++,n.compress=r[i],i++,n.filter=r[i],i++,n.interlace=r[i],i++}function A(r,i,n,o,h,U,E,m,O){const S=Math.min(i,h),C=Math.min(n,U);let P=0,g=0;for(let F=0;F<C;F++)for(let c=0;c<S;c++)if(E>=0&&m>=0?(P=F*i+c<<2,g=(m+F)*h+E+c<<2):(P=(-m+F)*i-E+c<<2,g=F*h+c<<2),O==0)o[g]=r[P],o[g+1]=r[P+1],o[g+2]=r[P+2],o[g+3]=r[P+3];else if(O==1){var R=r[P+3]*.00392156862745098,u=r[P]*R,l=r[P+1]*R,v=r[P+2]*R,w=o[g+3]*(1/255),y=o[g]*w,_=o[g+1]*w,b=o[g+2]*w;const a=1-R,T=R+w*a,I=T==0?0:1/T;o[g+3]=255*T,o[g+0]=(u+y*a)*I,o[g+1]=(l+_*a)*I,o[g+2]=(v+b*a)*I}else if(O==2)R=r[P+3],u=r[P],l=r[P+1],v=r[P+2],w=o[g+3],y=o[g],_=o[g+1],b=o[g+2],R==w&&u==y&&l==_&&v==b?(o[g]=0,o[g+1]=0,o[g+2]=0,o[g+3]=0):(o[g]=u,o[g+1]=l,o[g+2]=v,o[g+3]=R);else if(O==3){if(R=r[P+3],u=r[P],l=r[P+1],v=r[P+2],w=o[g+3],y=o[g],_=o[g+1],b=o[g+2],R==w&&u==y&&l==_&&v==b)continue;if(R<220&&w>20)return!1}return!0}return{decode:function(i){const n=new Uint8Array(i);let o=8;const h=k,U=h.readUshort,E=h.readUint,m={tabs:{},frames:[]},O=new Uint8Array(n.length);let S,C=0,P=0;const g=[137,80,78,71,13,10,26,10];for(var R=0;R<8;R++)if(n[R]!=g[R])throw"The input is not a PNG file!";for(;o<n.length;){const F=h.readUint(n,o);o+=4;const c=h.readASCII(n,o,4);if(o+=4,c=="IHDR")p(n,o,m);else if(c=="iCCP"){for(var u=o;n[u]!=0;)u++;h.readASCII(n,o,u-o),n[u+1];const a=n.slice(u+2,o+F);let T=null;try{T=d(a)}catch{T=e(a)}m.tabs[c]=T}else if(c=="CgBI")m.tabs[c]=n.slice(o,o+4);else if(c=="IDAT"){for(R=0;R<F;R++)O[C+R]=n[o+R];C+=F}else if(c=="acTL")m.tabs[c]={num_frames:E(n,o),num_plays:E(n,o+4)},S=new Uint8Array(n.length);else if(c=="fcTL"){P!=0&&((b=m.frames[m.frames.length-1]).data=L(m,S.slice(0,P),b.rect.width,b.rect.height),P=0);const a={x:E(n,o+12),y:E(n,o+16),width:E(n,o+4),height:E(n,o+8)};let T=U(n,o+22);T=U(n,o+20)/(T==0?100:T);const I={rect:a,delay:Math.round(1e3*T),dispose:n[o+24],blend:n[o+25]};m.frames.push(I)}else if(c=="fdAT"){for(R=0;R<F-4;R++)S[P+R]=n[o+R+4];P+=F-4}else if(c=="pHYs")m.tabs[c]=[h.readUint(n,o),h.readUint(n,o+4),n[o+8]];else if(c=="cHRM")for(m.tabs[c]=[],R=0;R<8;R++)m.tabs[c].push(h.readUint(n,o+4*R));else if(c=="tEXt"||c=="zTXt"){m.tabs[c]==null&&(m.tabs[c]={});var l=h.nextZero(n,o),v=h.readASCII(n,o,l-o),w=o+F-l-1;if(c=="tEXt")_=h.readASCII(n,l+1,w);else{var y=d(n.slice(l+2,l+2+w));_=h.readUTF8(y,0,y.length)}m.tabs[c][v]=_}else if(c=="iTXt"){m.tabs[c]==null&&(m.tabs[c]={}),l=0,u=o,l=h.nextZero(n,u),v=h.readASCII(n,u,l-u);const a=n[u=l+1];var _;n[u+1],u+=2,l=h.nextZero(n,u),h.readASCII(n,u,l-u),u=l+1,l=h.nextZero(n,u),h.readUTF8(n,u,l-u),w=F-((u=l+1)-o),a==0?_=h.readUTF8(n,u,w):(y=d(n.slice(u,u+w)),_=h.readUTF8(y,0,y.length)),m.tabs[c][v]=_}else if(c=="PLTE")m.tabs[c]=h.readBytes(n,o,F);else if(c=="hIST"){const a=m.tabs.PLTE.length/3;for(m.tabs[c]=[],R=0;R<a;R++)m.tabs[c].push(U(n,o+2*R))}else if(c=="tRNS")m.ctype==3?m.tabs[c]=h.readBytes(n,o,F):m.ctype==0?m.tabs[c]=U(n,o):m.ctype==2&&(m.tabs[c]=[U(n,o),U(n,o+2),U(n,o+4)]);else if(c=="gAMA")m.tabs[c]=h.readUint(n,o)/1e5;else if(c=="sRGB")m.tabs[c]=n[o];else if(c=="bKGD")m.ctype==0||m.ctype==4?m.tabs[c]=[U(n,o)]:m.ctype==2||m.ctype==6?m.tabs[c]=[U(n,o),U(n,o+2),U(n,o+4)]:m.ctype==3&&(m.tabs[c]=n[o]);else if(c=="IEND")break;o+=F,h.readUint(n,o),o+=4}var b;return P!=0&&((b=m.frames[m.frames.length-1]).data=L(m,S.slice(0,P),b.rect.width,b.rect.height)),m.data=L(m,O,m.width,m.height),delete m.compress,delete m.interlace,delete m.filter,m},toRGBA8:function(i){const n=i.width,o=i.height;if(i.tabs.acTL==null)return[M(i.data,n,o,i).buffer];const h=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const U=n*o*4,E=new Uint8Array(U),m=new Uint8Array(U),O=new Uint8Array(U);for(let C=0;C<i.frames.length;C++){const P=i.frames[C],g=P.rect.x,R=P.rect.y,u=P.rect.width,l=P.rect.height,v=M(P.data,u,l,i);if(C!=0)for(var S=0;S<U;S++)O[S]=E[S];if(P.blend==0?A(v,u,l,E,n,o,g,R,0):P.blend==1&&A(v,u,l,E,n,o,g,R,1),h.push(E.buffer.slice(0)),P.dispose!=0){if(P.dispose==1)A(m,u,l,E,n,o,g,R,0);else if(P.dispose==2)for(S=0;S<U;S++)E[S]=O[S]}}return h},_paeth:f,_copyTile:A,_bin:k}}();(function(){const{_copyTile:k}=ge,{_bin:M}=ge,L=ge._paeth;var d={table:function(){const u=new Uint32Array(256);for(let l=0;l<256;l++){let v=l;for(let w=0;w<8;w++)1&v?v=3988292384^v>>>1:v>>>=1;u[l]=v}return u}(),update(u,l,v,w){for(let y=0;y<w;y++)u=d.table[255&(u^l[v+y])]^u>>>8;return u},crc:(u,l,v)=>4294967295^d.update(4294967295,u,l,v)};function e(u,l,v,w){l[v]+=u[0]*w>>4,l[v+1]+=u[1]*w>>4,l[v+2]+=u[2]*w>>4,l[v+3]+=u[3]*w>>4}function t(u){return Math.max(0,Math.min(255,u))}function s(u,l){const v=u[0]-l[0],w=u[1]-l[1],y=u[2]-l[2],_=u[3]-l[3];return v*v+w*w+y*y+_*_}function f(u,l,v,w,y,_,b){b==null&&(b=1);const F=w.length,c=[];for(var a=0;a<F;a++){const x=w[a];c.push([x>>>0&255,x>>>8&255,x>>>16&255,x>>>24&255])}for(a=0;a<F;a++){let x=4294967295;for(var T=0,I=0;I<F;I++){var D=s(c[a],c[I]);I!=a&&D<x&&(x=D,T=I)}}const z=new Uint32Array(y.buffer),B=new Int16Array(l*v*4),N=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(a=0;a<N.length;a++)N[a]=255*((N[a]+.5)/16-.5);for(let x=0;x<v;x++)for(let Q=0;Q<l;Q++){var H;a=4*(x*l+Q),b!=2?H=[t(u[a]+B[a]),t(u[a+1]+B[a+1]),t(u[a+2]+B[a+2]),t(u[a+3]+B[a+3])]:(D=N[4*(3&x)+(3&Q)],H=[t(u[a]+D),t(u[a+1]+D),t(u[a+2]+D),t(u[a+3]+D)]),T=0;let V=16777215;for(I=0;I<F;I++){const q=s(H,c[I]);q<V&&(V=q,T=I)}const j=c[T],W=[H[0]-j[0],H[1]-j[1],H[2]-j[2],H[3]-j[3]];b==1&&(Q!=l-1&&e(W,B,a+4,7),x!=v-1&&(Q!=0&&e(W,B,a+4*l-4,3),e(W,B,a+4*l,5),Q!=l-1&&e(W,B,a+4*l+4,1))),_[a>>2]=T,z[a>>2]=w[T]}}function p(u,l,v,w,y){y==null&&(y={});const{crc:_}=d,b=M.writeUint,F=M.writeUshort,c=M.writeASCII;let a=8;const T=u.frames.length>1;let I,D=!1,z=33+(T?20:0);if(y.sRGB!=null&&(z+=13),y.pHYs!=null&&(z+=21),y.iCCP!=null&&(I=pako.deflate(y.iCCP),z+=21+I.length+4),u.ctype==3){for(var B=u.plte.length,N=0;N<B;N++)u.plte[N]>>>24!=255&&(D=!0);z+=8+3*B+4+(D?8+1*B+4:0)}for(var H=0;H<u.frames.length;H++)T&&(z+=38),z+=(j=u.frames[H]).cimg.length+12,H!=0&&(z+=4);z+=12;const x=new Uint8Array(z),Q=[137,80,78,71,13,10,26,10];for(N=0;N<8;N++)x[N]=Q[N];if(b(x,a,13),a+=4,c(x,a,"IHDR"),a+=4,b(x,a,l),a+=4,b(x,a,v),a+=4,x[a]=u.depth,a++,x[a]=u.ctype,a++,x[a]=0,a++,x[a]=0,a++,x[a]=0,a++,b(x,a,_(x,a-17,17)),a+=4,y.sRGB!=null&&(b(x,a,1),a+=4,c(x,a,"sRGB"),a+=4,x[a]=y.sRGB,a++,b(x,a,_(x,a-5,5)),a+=4),y.iCCP!=null){const W=13+I.length;b(x,a,W),a+=4,c(x,a,"iCCP"),a+=4,c(x,a,"ICC profile"),a+=11,a+=2,x.set(I,a),a+=I.length,b(x,a,_(x,a-(W+4),W+4)),a+=4}if(y.pHYs!=null&&(b(x,a,9),a+=4,c(x,a,"pHYs"),a+=4,b(x,a,y.pHYs[0]),a+=4,b(x,a,y.pHYs[1]),a+=4,x[a]=y.pHYs[2],a++,b(x,a,_(x,a-13,13)),a+=4),T&&(b(x,a,8),a+=4,c(x,a,"acTL"),a+=4,b(x,a,u.frames.length),a+=4,b(x,a,y.loop!=null?y.loop:0),a+=4,b(x,a,_(x,a-12,12)),a+=4),u.ctype==3){for(b(x,a,3*(B=u.plte.length)),a+=4,c(x,a,"PLTE"),a+=4,N=0;N<B;N++){const W=3*N,q=u.plte[N],X=255&q,ee=q>>>8&255,_e=q>>>16&255;x[a+W+0]=X,x[a+W+1]=ee,x[a+W+2]=_e}if(a+=3*B,b(x,a,_(x,a-3*B-4,3*B+4)),a+=4,D){for(b(x,a,B),a+=4,c(x,a,"tRNS"),a+=4,N=0;N<B;N++)x[a+N]=u.plte[N]>>>24&255;a+=B,b(x,a,_(x,a-B-4,B+4)),a+=4}}let V=0;for(H=0;H<u.frames.length;H++){var j=u.frames[H];T&&(b(x,a,26),a+=4,c(x,a,"fcTL"),a+=4,b(x,a,V++),a+=4,b(x,a,j.rect.width),a+=4,b(x,a,j.rect.height),a+=4,b(x,a,j.rect.x),a+=4,b(x,a,j.rect.y),a+=4,F(x,a,w[H]),a+=2,F(x,a,1e3),a+=2,x[a]=j.dispose,a++,x[a]=j.blend,a++,b(x,a,_(x,a-30,30)),a+=4);const W=j.cimg;b(x,a,(B=W.length)+(H==0?0:4)),a+=4;const q=a;c(x,a,H==0?"IDAT":"fdAT"),a+=4,H!=0&&(b(x,a,V++),a+=4),x.set(W,a),a+=B,b(x,a,_(x,q,a-q)),a+=4}return b(x,a,0),a+=4,c(x,a,"IEND"),a+=4,b(x,a,_(x,a-4,4)),a+=4,x.buffer}function A(u,l,v){for(let w=0;w<u.frames.length;w++){const y=u.frames[w];y.rect.width;const _=y.rect.height,b=new Uint8Array(_*y.bpl+_);y.cimg=o(y.img,_,y.bpp,y.bpl,b,l,v)}}function r(u,l,v,w,y){const _=y[0],b=y[1],F=y[2],c=y[3],a=y[4],T=y[5];let I=6,D=8,z=255;for(var B=0;B<u.length;B++){const ne=new Uint8Array(u[B]);for(var N=ne.length,H=0;H<N;H+=4)z&=ne[H+3]}const x=z!=255,Q=function(Z,G,te,oe,Y,le){const J=[];for(var K=0;K<Z.length;K++){const ae=new Uint8Array(Z[K]),de=new Uint32Array(ae.buffer);var ue;let ce=0,Ae=0,ve=G,Fe=te,je=oe?1:0;if(K!=0){const gt=le||oe||K==1||J[K-2].dispose!=0?1:2;let qe=0,Je=1e9;for(let Te=0;Te<gt;Te++){var ye=new Uint8Array(Z[K-1-Te]);const pt=new Uint32Array(Z[K-1-Te]);let we=G,Ue=te,ke=-1,Pe=-1;for(let Ee=0;Ee<te;Ee++)for(let Ce=0;Ce<G;Ce++)de[re=Ee*G+Ce]!=pt[re]&&(Ce<we&&(we=Ce),Ce>ke&&(ke=Ce),Ee<Ue&&(Ue=Ee),Ee>Pe&&(Pe=Ee));ke==-1&&(we=Ue=ke=Pe=0),Y&&((1&we)==1&&we--,(1&Ue)==1&&Ue--);const et=(ke-we+1)*(Pe-Ue+1);et<Je&&(Je=et,qe=Te,ce=we,Ae=Ue,ve=ke-we+1,Fe=Pe-Ue+1)}ye=new Uint8Array(Z[K-1-qe]),qe==1&&(J[K-1].dispose=2),ue=new Uint8Array(ve*Fe*4),k(ye,G,te,ue,ve,Fe,-ce,-Ae,0),je=k(ae,G,te,ue,ve,Fe,-ce,-Ae,3)?1:0,je==1?n(ae,G,te,ue,{x:ce,y:Ae,width:ve,height:Fe}):k(ae,G,te,ue,ve,Fe,-ce,-Ae,0)}else ue=ae.slice(0);J.push({rect:{x:ce,y:Ae,width:ve,height:Fe},img:ue,blend:je,dispose:0})}if(oe)for(K=0;K<J.length;K++){if((Ie=J[K]).blend==1)continue;const ae=Ie.rect,de=J[K-1].rect,ce=Math.min(ae.x,de.x),Ae=Math.min(ae.y,de.y),ve={x:ce,y:Ae,width:Math.max(ae.x+ae.width,de.x+de.width)-ce,height:Math.max(ae.y+ae.height,de.y+de.height)-Ae};J[K-1].dispose=1,K-1!=0&&i(Z,G,te,J,K-1,ve,Y),i(Z,G,te,J,K,ve,Y)}let De=0;if(Z.length!=1)for(var re=0;re<J.length;re++){var Ie;De+=(Ie=J[re]).rect.width*Ie.rect.height}return J}(u,l,v,_,b,F),V={},j=[],W=[];if(w!=0){const ne=[];for(H=0;H<Q.length;H++)ne.push(Q[H].img.buffer);const Z=function(Y){let le=0;for(var J=0;J<Y.length;J++)le+=Y[J].byteLength;const K=new Uint8Array(le);let ue=0;for(J=0;J<Y.length;J++){const ye=new Uint8Array(Y[J]),De=ye.length;for(let re=0;re<De;re+=4){let Ie=ye[re],ae=ye[re+1],de=ye[re+2];const ce=ye[re+3];ce==0&&(Ie=ae=de=0),K[ue+re]=Ie,K[ue+re+1]=ae,K[ue+re+2]=de,K[ue+re+3]=ce}ue+=De}return K.buffer}(ne),G=U(Z,w);for(H=0;H<G.plte.length;H++)j.push(G.plte[H].est.rgba);let te=0;for(H=0;H<Q.length;H++){const oe=(X=Q[H]).img.length;var q=new Uint8Array(G.inds.buffer,te>>2,oe>>2);W.push(q);const Y=new Uint8Array(G.abuf,te,oe);T&&f(X.img,X.rect.width,X.rect.height,j,Y,q),X.img.set(Y),te+=oe}}else for(B=0;B<Q.length;B++){var X=Q[B];const ne=new Uint32Array(X.img.buffer);var ee=X.rect.width;for(N=ne.length,q=new Uint8Array(N),W.push(q),H=0;H<N;H++){const Z=ne[H];if(H!=0&&Z==ne[H-1])q[H]=q[H-1];else if(H>ee&&Z==ne[H-ee])q[H]=q[H-ee];else{let G=V[Z];if(G==null&&(V[Z]=G=j.length,j.push(Z),j.length>=300))break;q[H]=G}}}const _e=j.length;for(_e<=256&&a==0&&(D=_e<=2?1:_e<=4?2:_e<=16?4:8,D=Math.max(D,c)),B=0;B<Q.length;B++){(X=Q[B]).rect.x,X.rect.y,ee=X.rect.width;const ne=X.rect.height;let Z=X.img;new Uint32Array(Z.buffer);let G=4*ee,te=4;if(_e<=256&&a==0){G=Math.ceil(D*ee/8);var pe=new Uint8Array(G*ne);const oe=W[B];for(let Y=0;Y<ne;Y++){H=Y*G;const le=Y*ee;if(D==8)for(var $=0;$<ee;$++)pe[H+$]=oe[le+$];else if(D==4)for($=0;$<ee;$++)pe[H+($>>1)]|=oe[le+$]<<4-4*(1&$);else if(D==2)for($=0;$<ee;$++)pe[H+($>>2)]|=oe[le+$]<<6-2*(3&$);else if(D==1)for($=0;$<ee;$++)pe[H+($>>3)]|=oe[le+$]<<7-1*(7&$)}Z=pe,I=3,te=1}else if(x==0&&Q.length==1){pe=new Uint8Array(ee*ne*3);const oe=ee*ne;for(H=0;H<oe;H++){const Y=3*H,le=4*H;pe[Y]=Z[le],pe[Y+1]=Z[le+1],pe[Y+2]=Z[le+2]}Z=pe,I=2,te=3,G=3*ee}X.img=Z,X.bpl=G,X.bpp=te}return{ctype:I,depth:D,plte:j,frames:Q}}function i(u,l,v,w,y,_,b){const F=Uint8Array,c=Uint32Array,a=new F(u[y-1]),T=new c(u[y-1]),I=y+1<u.length?new F(u[y+1]):null,D=new F(u[y]),z=new c(D.buffer);let B=l,N=v,H=-1,x=-1;for(let V=0;V<_.height;V++)for(let j=0;j<_.width;j++){const W=_.x+j,q=_.y+V,X=q*l+W,ee=z[X];ee==0||w[y-1].dispose==0&&T[X]==ee&&(I==null||I[4*X+3]!=0)||(W<B&&(B=W),W>H&&(H=W),q<N&&(N=q),q>x&&(x=q))}H==-1&&(B=N=H=x=0),b&&((1&B)==1&&B--,(1&N)==1&&N--),_={x:B,y:N,width:H-B+1,height:x-N+1};const Q=w[y];Q.rect=_,Q.blend=1,Q.img=new Uint8Array(_.width*_.height*4),w[y-1].dispose==0?(k(a,l,v,Q.img,_.width,_.height,-_.x,-_.y,0),n(D,l,v,Q.img,_)):k(D,l,v,Q.img,_.width,_.height,-_.x,-_.y,0)}function n(u,l,v,w,y){k(u,l,v,w,y.width,y.height,-y.x,-y.y,2)}function o(u,l,v,w,y,_,b){const F=[];let c,a=[0,1,2,3,4];_!=-1?a=[_]:(l*w>5e5||v==1)&&(a=[0]),b&&(c={level:0});const T=Rt;for(var I=0;I<a.length;I++){for(let B=0;B<l;B++)h(y,u,B,w,v,a[I]);F.push(T.deflate(y,c))}let D,z=1e9;for(I=0;I<F.length;I++)F[I].length<z&&(D=I,z=F[I].length);return F[D]}function h(u,l,v,w,y,_){const b=v*w;let F=b+v;if(u[F]=_,F++,_==0)if(w<500)for(var c=0;c<w;c++)u[F+c]=l[b+c];else u.set(new Uint8Array(l.buffer,b,w),F);else if(_==1){for(c=0;c<y;c++)u[F+c]=l[b+c];for(c=y;c<w;c++)u[F+c]=l[b+c]-l[b+c-y]+256&255}else if(v==0){for(c=0;c<y;c++)u[F+c]=l[b+c];if(_==2)for(c=y;c<w;c++)u[F+c]=l[b+c];if(_==3)for(c=y;c<w;c++)u[F+c]=l[b+c]-(l[b+c-y]>>1)+256&255;if(_==4)for(c=y;c<w;c++)u[F+c]=l[b+c]-L(l[b+c-y],0,0)+256&255}else{if(_==2)for(c=0;c<w;c++)u[F+c]=l[b+c]+256-l[b+c-w]&255;if(_==3){for(c=0;c<y;c++)u[F+c]=l[b+c]+256-(l[b+c-w]>>1)&255;for(c=y;c<w;c++)u[F+c]=l[b+c]+256-(l[b+c-w]+l[b+c-y]>>1)&255}if(_==4){for(c=0;c<y;c++)u[F+c]=l[b+c]+256-L(0,l[b+c-w],0)&255;for(c=y;c<w;c++)u[F+c]=l[b+c]+256-L(l[b+c-y],l[b+c-w],l[b+c-y-w])&255}}}function U(u,l){const v=new Uint8Array(u),w=v.slice(0),y=new Uint32Array(w.buffer),_=E(w,l),b=_[0],F=_[1],c=v.length,a=new Uint8Array(c>>2);let T;if(v.length<2e7)for(var I=0;I<c;I+=4)T=m(b,D=v[I]*(1/255),z=v[I+1]*(1/255),B=v[I+2]*(1/255),N=v[I+3]*(1/255)),a[I>>2]=T.ind,y[I>>2]=T.est.rgba;else for(I=0;I<c;I+=4){var D=v[I]*.00392156862745098,z=v[I+1]*(1/255),B=v[I+2]*(1/255),N=v[I+3]*(1/255);for(T=b;T.left;)T=O(T.est,D,z,B,N)<=0?T.left:T.right;a[I>>2]=T.ind,y[I>>2]=T.est.rgba}return{abuf:w.buffer,inds:a,plte:F}}function E(u,l,v){v==null&&(v=1e-4);const w=new Uint32Array(u.buffer),y={i0:0,i1:u.length,bst:null,est:null,tdst:0,left:null,right:null};y.bst=P(u,y.i0,y.i1),y.est=g(y.bst);const _=[y];for(;_.length<l;){let F=0,c=0;for(var b=0;b<_.length;b++)_[b].est.L>F&&(F=_[b].est.L,c=b);if(F<v)break;const a=_[c],T=S(u,w,a.i0,a.i1,a.est.e,a.est.eMq255);if(a.i0>=T||a.i1<=T){a.est.L=0;continue}const I={i0:a.i0,i1:T,bst:null,est:null,tdst:0,left:null,right:null};I.bst=P(u,I.i0,I.i1),I.est=g(I.bst);const D={i0:T,i1:a.i1,bst:null,est:null,tdst:0,left:null,right:null};for(D.bst={R:[],m:[],N:a.bst.N-I.bst.N},b=0;b<16;b++)D.bst.R[b]=a.bst.R[b]-I.bst.R[b];for(b=0;b<4;b++)D.bst.m[b]=a.bst.m[b]-I.bst.m[b];D.est=g(D.bst),a.left=I,a.right=D,_[c]=I,_.push(D)}for(_.sort((F,c)=>c.bst.N-F.bst.N),b=0;b<_.length;b++)_[b].ind=b;return[y,_]}function m(u,l,v,w,y){if(u.left==null)return u.tdst=function(I,D,z,B,N){const H=D-I[0],x=z-I[1],Q=B-I[2],V=N-I[3];return H*H+x*x+Q*Q+V*V}(u.est.q,l,v,w,y),u;const _=O(u.est,l,v,w,y);let b=u.left,F=u.right;_>0&&(b=u.right,F=u.left);const c=m(b,l,v,w,y);if(c.tdst<=_*_)return c;const a=m(F,l,v,w,y);return a.tdst<c.tdst?a:c}function O(u,l,v,w,y){const{e:_}=u;return _[0]*l+_[1]*v+_[2]*w+_[3]*y-u.eMq}function S(u,l,v,w,y,_){for(w-=4;v<w;){for(;C(u,v,y)<=_;)v+=4;for(;C(u,w,y)>_;)w-=4;if(v>=w)break;const b=l[v>>2];l[v>>2]=l[w>>2],l[w>>2]=b,v+=4,w-=4}for(;C(u,v,y)>_;)v-=4;return v+4}function C(u,l,v){return u[l]*v[0]+u[l+1]*v[1]+u[l+2]*v[2]+u[l+3]*v[3]}function P(u,l,v){const w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y=[0,0,0,0],_=v-l>>2;for(let b=l;b<v;b+=4){const F=u[b]*.00392156862745098,c=u[b+1]*(1/255),a=u[b+2]*(1/255),T=u[b+3]*(1/255);y[0]+=F,y[1]+=c,y[2]+=a,y[3]+=T,w[0]+=F*F,w[1]+=F*c,w[2]+=F*a,w[3]+=F*T,w[5]+=c*c,w[6]+=c*a,w[7]+=c*T,w[10]+=a*a,w[11]+=a*T,w[15]+=T*T}return w[4]=w[1],w[8]=w[2],w[9]=w[6],w[12]=w[3],w[13]=w[7],w[14]=w[11],{R:w,m:y,N:_}}function g(u){const{R:l}=u,{m:v}=u,{N:w}=u,y=v[0],_=v[1],b=v[2],F=v[3],c=w==0?0:1/w,a=[l[0]-y*y*c,l[1]-y*_*c,l[2]-y*b*c,l[3]-y*F*c,l[4]-_*y*c,l[5]-_*_*c,l[6]-_*b*c,l[7]-_*F*c,l[8]-b*y*c,l[9]-b*_*c,l[10]-b*b*c,l[11]-b*F*c,l[12]-F*y*c,l[13]-F*_*c,l[14]-F*b*c,l[15]-F*F*c],T=a,I=R;let D=[Math.random(),Math.random(),Math.random(),Math.random()],z=0,B=0;if(w!=0)for(let H=0;H<16&&(D=I.multVec(T,D),B=Math.sqrt(I.dot(D,D)),D=I.sml(1/B,D),!(H!=0&&Math.abs(B-z)<1e-9));H++)z=B;const N=[y*c,_*c,b*c,F*c];return{Cov:a,q:N,e:D,L:z,eMq255:I.dot(I.sml(255,N),D),eMq:I.dot(D,N),rgba:(Math.round(255*N[3])<<24|Math.round(255*N[2])<<16|Math.round(255*N[1])<<8|Math.round(255*N[0])<<0)>>>0}}var R={multVec:(u,l)=>[u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3],u[4]*l[0]+u[5]*l[1]+u[6]*l[2]+u[7]*l[3],u[8]*l[0]+u[9]*l[1]+u[10]*l[2]+u[11]*l[3],u[12]*l[0]+u[13]*l[1]+u[14]*l[2]+u[15]*l[3]],dot:(u,l)=>u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3],sml:(u,l)=>[u*l[0],u*l[1],u*l[2],u*l[3]]};ge.encode=function(l,v,w,y,_,b,F){y==null&&(y=0),F==null&&(F=!1);const c=r(l,v,w,y,[!1,!1,!1,0,F,!1]);return A(c,-1),p(c,v,w,_,b)},ge.encodeLL=function(l,v,w,y,_,b,F,c){const a={ctype:0+(y==1?0:2)+(_==0?0:4),depth:b,frames:[]},T=(y+_)*b,I=T*v;for(let D=0;D<l.length;D++)a.frames.push({rect:{x:0,y:0,width:v,height:w},img:new Uint8Array(l[D]),blend:0,dispose:1,bpp:Math.ceil(T/8),bpl:Math.ceil(I/8)});return A(a,0,!0),p(a,v,w,F,c)},ge.encode.compress=r,ge.encode.dither=f,ge.quantize=U,ge.quantize.getKDtree=E,ge.quantize.getNearest=m})();const it={toArrayBuffer(k,M){const L=k.width,d=k.height,e=L<<2,t=k.getContext("2d").getImageData(0,0,L,d),s=new Uint32Array(t.data.buffer),f=(32*L+31)/32<<2,p=f*d,A=122+p,r=new ArrayBuffer(A),i=new DataView(r),n=1<<20;let o,h,U,E,m=n,O=0,S=0,C=0;function P(u){i.setUint16(S,u,!0),S+=2}function g(u){i.setUint32(S,u,!0),S+=4}function R(u){S+=u}P(19778),g(A),R(4),g(122),g(108),g(L),g(-d>>>0),P(1),P(32),g(3),g(p),g(2835),g(2835),R(8),g(16711680),g(65280),g(255),g(4278190080),g(1466527264),function u(){for(;O<d&&m>0;){for(E=122+O*f,o=0;o<e;)m--,h=s[C++],U=h>>>24,i.setUint32(E+o,h<<8|U),o+=4;O++}C<s.length?(m=n,setTimeout(u,it._dly)):M(r)}()},toBlob(k,M){this.toArrayBuffer(k,L=>{M(new Blob([L],{type:"image/bmp"}))})},_dly:9};var se={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},kt={[se.CHROME]:16384,[se.FIREFOX]:11180,[se.DESKTOP_SAFARI]:16384,[se.IE]:8192,[se.IOS]:4096,[se.ETC]:8192};const Xe=typeof window<"u",ot=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ne=Xe&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Mt=(Xe||ot)&&(Ne&&Ne.getOriginalSymbol(window,"File")||typeof File<"u"&&File),at=(Xe||ot)&&(Ne&&Ne.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Ye(k,M,L=Date.now()){return new Promise(d=>{const e=k.split(","),t=e[0].match(/:(.*?);/)[1],s=globalThis.atob(e[1]);let f=s.length;const p=new Uint8Array(f);for(;f--;)p[f]=s.charCodeAt(f);const A=new Blob([p],{type:t});A.name=M,A.lastModified=L,d(A)})}function ft(k){return new Promise((M,L)=>{const d=new at;d.onload=()=>M(d.result),d.onerror=e=>L(e),d.readAsDataURL(k)})}function st(k){return new Promise((M,L)=>{const d=new Image;d.onload=()=>M(d),d.onerror=e=>L(e),d.src=k})}function Re(){if(Re.cachedResult!==void 0)return Re.cachedResult;let k=se.ETC;const{userAgent:M}=navigator;return/Chrom(e|ium)/i.test(M)?k=se.CHROME:/iP(ad|od|hone)/i.test(M)&&/WebKit/i.test(M)?k=se.IOS:/Safari/i.test(M)?k=se.DESKTOP_SAFARI:/Firefox/i.test(M)?k=se.FIREFOX:(/MSIE/i.test(M)||document.documentMode)&&(k=se.IE),Re.cachedResult=k,Re.cachedResult}function lt(k,M){const L=Re(),d=kt[L];let e=k,t=M,s=e*t;const f=e>t?t/e:e/t;for(;s>d*d;){const p=(d+e)/2,A=(d+t)/2;p<A?(t=A,e=A*f):(t=p*f,e=p),s=e*t}return{width:e,height:t}}function We(k,M){let L,d;try{if(L=new OffscreenCanvas(k,M),d=L.getContext("2d"),d===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{L=document.createElement("canvas"),d=L.getContext("2d")}return L.width=k,L.height=M,[L,d]}function ut(k,M){const{width:L,height:d}=lt(k.width,k.height),[e,t]=We(L,d);return M&&/jpe?g/.test(M)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(k,0,0,e.width,e.height),e}function He(){return He.cachedResult!==void 0||(He.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),He.cachedResult}function ze(k,M={}){return new Promise(function(L,d){let e,t;var s=function(){try{return t=ut(e,M.fileType||k.type),L([e,t])}catch(p){return d(p)}},f=function(p){try{var A=function(r){try{throw r}catch(i){return d(i)}};try{let r;return ft(k).then(function(i){try{return r=i,st(r).then(function(n){try{return e=n,function(){try{return s()}catch(o){return d(o)}}()}catch(o){return A(o)}},A)}catch(n){return A(n)}},A)}catch(r){A(r)}}catch(r){return d(r)}};try{if(He()||[se.DESKTOP_SAFARI,se.MOBILE_SAFARI].includes(Re()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(k).then(function(p){try{return e=p,s()}catch{return f()}},f)}catch{f()}})}function Qe(k,M,L,d,e=1){return new Promise(function(t,s){let f;if(M==="image/png"){let A,r,i;return A=k.getContext("2d"),{data:r}=A.getImageData(0,0,k.width,k.height),i=ge.encode([r.buffer],k.width,k.height,4096*e),f=new Blob([i],{type:M}),f.name=L,f.lastModified=d,p.call(this)}{let A=function(){return p.call(this)};if(M==="image/bmp")return new Promise(r=>it.toBlob(k,r)).then((function(r){try{return f=r,f.name=L,f.lastModified=d,A.call(this)}catch(i){return s(i)}}).bind(this),s);{let r=function(){return A.call(this)};if(typeof OffscreenCanvas=="function"&&k instanceof OffscreenCanvas)return k.convertToBlob({type:M,quality:e}).then((function(i){try{return f=i,f.name=L,f.lastModified=d,r.call(this)}catch(n){return s(n)}}).bind(this),s);{let i;return i=k.toDataURL(M,e),Ye(i,L,d).then((function(n){try{return f=n,r.call(this)}catch(o){return s(o)}}).bind(this),s)}}}function p(){return t(f)}})}function be(k){k.width=0,k.height=0}function Se(){return new Promise(function(k,M){let L,d,e,t;return Se.cachedResult!==void 0?k(Se.cachedResult):Ye("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return L=s,ze(L).then(function(f){try{return d=f[1],Qe(d,L.type,L.name,L.lastModified).then(function(p){try{return e=p,be(d),ze(e).then(function(A){try{return t=A[0],Se.cachedResult=t.width===1&&t.height===2,k(Se.cachedResult)}catch(r){return M(r)}},M)}catch(A){return M(A)}},M)}catch(p){return M(p)}},M)}catch(f){return M(f)}},M)})}function ct(k){return new Promise((M,L)=>{const d=new at;d.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return M(-2);const s=t.byteLength;let f=2;for(;f<s;){if(t.getUint16(f+2,!1)<=8)return M(-1);const p=t.getUint16(f,!1);if(f+=2,p==65505){if(t.getUint32(f+=2,!1)!=1165519206)return M(-1);const A=t.getUint16(f+=6,!1)==18761;f+=t.getUint32(f+4,A);const r=t.getUint16(f,A);f+=2;for(let i=0;i<r;i++)if(t.getUint16(f+12*i,A)==274)return M(t.getUint16(f+12*i+8,A))}else{if((65280&p)!=65280)break;f+=t.getUint16(f,!1)}}return M(-1)},d.onerror=e=>L(e),d.readAsArrayBuffer(k)})}function dt(k,M){const{width:L}=k,{height:d}=k,{maxWidthOrHeight:e}=M;let t,s=k;return isFinite(e)&&(L>e||d>e)&&([s,t]=We(L,d),L>d?(s.width=e,s.height=d/L*e):(s.width=L/d*e,s.height=e),t.drawImage(k,0,0,s.width,s.height),be(k)),s}function ht(k,M){const{width:L}=k,{height:d}=k,[e,t]=We(L,d);switch(M>4&&M<9?(e.width=d,e.height=L):(e.width=L,e.height=d),M){case 2:t.transform(-1,0,0,1,L,0);break;case 3:t.transform(-1,0,0,-1,L,d);break;case 4:t.transform(1,0,0,-1,0,d);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,d,0);break;case 7:t.transform(0,-1,-1,0,d,L);break;case 8:t.transform(0,-1,1,0,0,L)}return t.drawImage(k,0,0,L,d),be(k),e}function nt(k,M,L=0){return new Promise(function(d,e){let t,s,f,p,A,r,i,n,o,h,U,E,m,O,S,C,P,g,R,u;function l(w=5){if(M.signal&&M.signal.aborted)throw M.signal.reason;t+=w,M.onProgress(Math.min(t,100))}function v(w){if(M.signal&&M.signal.aborted)throw M.signal.reason;t=Math.min(Math.max(w,t),100),M.onProgress(t)}return t=L,s=M.maxIteration||10,f=1024*M.maxSizeMB*1024,l(),ze(k,M).then((function(w){try{return[,p]=w,l(),A=dt(p,M),l(),new Promise(function(y,_){var b;if(!(b=M.exifOrientation))return ct(k).then((function(c){try{return b=c,F.call(this)}catch(a){return _(a)}}).bind(this),_);function F(){return y(b)}return F.call(this)}).then((function(y){try{return r=y,l(),Se().then((function(_){try{return i=_?A:ht(A,r),l(),n=M.initialQuality||1,o=M.fileType||k.type,Qe(i,o,k.name,k.lastModified,n).then((function(b){try{{let c=function(){if(s--&&(S>f||S>m)){let T,I;return T=u?.95*R.width:R.width,I=u?.95*R.height:R.height,[P,g]=We(T,I),g.drawImage(R,0,0,T,I),n*=o==="image/png"?.85:.95,Qe(P,o,k.name,k.lastModified,n).then(function(D){try{return C=D,be(R),R=P,S=C.size,v(Math.min(99,Math.floor((O-S)/(O-f)*100))),c}catch(z){return e(z)}},e)}return[1]},a=function(){return be(R),be(P),be(A),be(i),be(p),v(100),d(C)};if(h=b,l(),U=h.size>f,E=h.size>k.size,!U&&!E)return v(100),d(h);var F;return m=k.size,O=h.size,S=O,R=i,u=!M.alwaysKeepResolution&&U,(F=(function(T){for(;T;){if(T.then)return void T.then(F,e);try{if(T.pop){if(T.length)return T.pop()?a.call(this):T;T=c}else T=T.call(this)}catch(I){return e(I)}}}).bind(this))(c)}}catch(c){return e(c)}}).bind(this),e)}catch(b){return e(b)}}).bind(this),e)}catch(_){return e(_)}}).bind(this),e)}catch(y){return e(y)}}).bind(this),e)})}const St=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let $e;function Tt(k,M){return new Promise((L,d)=>{$e||($e=function(s){const f=[];return f.push(s),URL.createObjectURL(new Blob(f))}(St));const e=new Worker($e);e.addEventListener("message",function(s){if(M.signal&&M.signal.aborted)e.terminate();else if(s.data.progress===void 0){if(s.data.error)return d(new Error(s.data.error)),void e.terminate();L(s.data.file),e.terminate()}else M.onProgress(s.data.progress)}),e.addEventListener("error",d),M.signal&&M.signal.addEventListener("abort",()=>{d(M.signal.reason),e.terminate()}),e.postMessage({file:k,imageCompressionLibUrl:M.libURL,options:{...M,onProgress:void 0,signal:void 0}})})}function ie(k,M){return new Promise(function(L,d){let e,t,s,f,p,A;if(e={...M},s=0,{onProgress:f}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,p=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=o=>{s=o,typeof f=="function"&&f(s)},!(k instanceof Blob||k instanceof Mt))return d(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(k.type))return d(new Error("The file given is not an image"));if(A=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!p||typeof Worker!="function"||A)return nt(k,e).then((function(o){try{return t=o,n.call(this)}catch(h){return d(h)}}).bind(this),d);var r=(function(){try{return n.call(this)}catch(o){return d(o)}}).bind(this),i=function(o){try{return nt(k,e).then(function(h){try{return t=h,r()}catch(U){return d(U)}},d)}catch(h){return d(h)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Tt(k,e).then(function(o){try{return t=o,r()}catch{return i()}},i)}catch{i()}function n(){try{t.name=k.name,t.lastModified=k.lastModified}catch{}try{e.preserveExif&&k.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===k.type)&&(t=rt(k,t))}catch{}return L(t)}})}ie.getDataUrlFromFile=ft,ie.getFilefromDataUrl=Ye,ie.loadImage=st,ie.drawImageInCanvas=ut,ie.drawFileInCanvas=ze,ie.canvasToFile=Qe,ie.getExifOrientation=ct,ie.handleMaxWidthOrHeight=dt,ie.followExifOrientation=ht,ie.cleanupCanvasMemory=be,ie.isAutoOrientationInBrowser=Se,ie.approximateBelowMaximumCanvasSizeOfBrowser=lt,ie.copyExifWithoutOrientation=rt,ie.getBrowserName=Re,ie.version="2.0.2";const Pt={class:"page-container"},Dt={key:0},Ot={key:0},Lt=vt({__name:"ItemEdit",setup(k){const M=wt(),L=Ut(),d=It(),e=Oe(null),t=mt({shortId:"",remarks:"",currentDestination:"",photo:void 0}),s=Oe([]),f=Oe(!1),p=Oe(!1),A=bt(()=>{if(!e.value?.photoUrl)return null;try{const o=new URL(At.defaults.baseURL||window.location.origin),h=new URL(o.origin);return new URL(e.value.photoUrl,h).href}catch(o){return console.error("Invalid URL:",o),e.value.photoUrl}});yt(async()=>{const o=M.params.id;let h=d.items.find(U=>U.id===o);h||(await d.fetchItems({id:o}),h=d.items.find(U=>U.id===o)),h?(e.value=h,t.shortId=h.shortId||"",t.remarks=h.remarks||"",t.currentDestination=h.currentDestination||""):(xe.error("未找到物品"),L.back())});const r=async o=>{if(s.value=o.fileList.slice(-1),s.value&&s.value.length>0&&s.value[0].originFileObj){p.value=!0,xe.loading({content:"正在压缩图片...",key:"compressing"});try{const h=s.value[0].originFileObj,E=await ie(h,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0});t.photo=E,f.value=!1,xe.success({content:"图片压缩成功!",key:"compressing",duration:2})}catch(h){xe.error({content:"图片压缩失败!",key:"compressing",duration:2}),console.error(h),t.photo=void 0,s.value=[]}finally{p.value=!1}}else t.photo=void 0},i=()=>{f.value=!0,s.value=[],t.photo=void 0,xe.info("照片已标记为删除。保存后生效。")},n=async()=>{if(e.value)try{await d.updateItem(e.value.id,{shortId:t.shortId,remarks:t.remarks,currentDestination:t.currentDestination,photo:t.photo,deletePhoto:f.value}),xe.success("物品信息已更新"),L.back()}catch{xe.error("更新失败")}};return(o,h)=>{const U=he("a-page-header"),E=he("a-input"),m=he("a-form-item"),O=he("a-textarea"),S=he("a-upload"),C=he("a-image"),P=he("a-button"),g=he("a-empty"),R=he("a-form"),u=he("a-card"),l=he("a-skeleton");return Me(),Ge("div",null,[fe(U,{title:`编辑物品: ${e.value?.shortId}`,onBack:h[0]||(h[0]=()=>Le(L).back())},null,8,["title"]),Ke("div",Pt,[!Le(d).loading&&e.value?(Me(),Ve(u,{key:0},{default:me(()=>[fe(R,{model:t,onFinish:n,layout:"vertical"},{default:me(()=>[fe(m,{label:"Short ID"},{default:me(()=>[fe(E,{value:t.shortId,"onUpdate:value":h[1]||(h[1]=v=>t.shortId=v)},null,8,["value"])]),_:1}),fe(m,{label:"去向 (可选)"},{default:me(()=>[fe(E,{value:t.currentDestination,"onUpdate:value":h[2]||(h[2]=v=>t.currentDestination=v)},null,8,["value"])]),_:1}),fe(m,{label:"备注"},{default:me(()=>[fe(O,{value:t.remarks,"onUpdate:value":h[3]||(h[3]=v=>t.remarks=v),rows:4},null,8,["value"])]),_:1}),fe(m,{label:"更换照片"},{default:me(()=>[fe(S,{"file-list":s.value,"onUpdate:fileList":h[4]||(h[4]=v=>s.value=v),"before-upload":()=>!1,onChange:r,"list-type":"picture-card","max-count":1},{default:me(()=>[!s.value||s.value.length<1?(Me(),Ge("div",Dt,[fe(Le(_t)),h[5]||(h[5]=Ke("div",{style:{"margin-top":"8px"}},"上传",-1))])):Ze("",!0)]),_:1},8,["file-list"]),A.value&&!f.value?(Me(),Ge("div",Ot,[h[7]||(h[7]=Ke("p",null,"当前照片:",-1)),fe(C,{width:100,src:A.value},null,8,["src"]),fe(P,{type:"link",danger:"",onClick:i},{default:me(()=>h[6]||(h[6]=[tt("删除照片",-1)])),_:1,__:[6]})])):Ze("",!0),!A.value&&!s.value?.length?(Me(),Ve(g,{key:1,description:"暂无照片"})):Ze("",!0)]),_:1}),fe(m,null,{default:me(()=>[fe(P,{type:"primary","html-type":"submit",loading:Le(d).loading||p.value},{default:me(()=>h[8]||(h[8]=[tt(" 保存更改 ",-1)])),_:1,__:[8]},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})):(Me(),Ve(l,{key:1,active:""}))])])}}}),zt=Ft(Lt,[["__scopeId","data-v-56341b6d"]]);export{zt as default};
