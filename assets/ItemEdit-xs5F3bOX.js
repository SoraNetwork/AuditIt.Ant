import{d as vt,r as Le,L as mt,K as bt,s as At,o as yt,h as wt,i as xe,j as Ut,e as Ge,c as de,n as Ke,p as He,g as ve,y as Ve,f as Ue,l as Ze,P as _t,m as tt,k as Me}from"./index-BvDCns5E.js";import{u as Ft}from"./itemStore-C5V1qByR.js";import{_ as Et}from"./_plugin-vue_export-helper-DlAUqK2U.js";function It(k,M){return M.forEach(function(H){H&&typeof H!="string"&&!Array.isArray(H)&&Object.keys(H).forEach(function(d){if(d!=="default"&&!(d in k)){var e=Object.getOwnPropertyDescriptor(H,d);Object.defineProperty(k,d,e.get?e:{enumerable:!0,get:function(){return H[d]}})}})}),Object.freeze(k)}function rt(k,M){return new Promise(function(H,d){let e;return Ct(k).then(function(t){try{return e=t,H(new Blob([M.slice(0,2),e,M.slice(2)],{type:"image/jpeg"}))}catch(l){return d(l)}},d)})}const Ct=k=>new Promise((M,H)=>{const d=new FileReader;d.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let l=0;if(t.getUint16(l)!==65496)return H("not a valid JPEG");for(l+=2;;){const f=t.getUint16(l);if(f===65498)break;const p=t.getUint16(l+2);if(f===65505&&t.getUint32(l+4)===1165519206){const A=l+10;let r;switch(t.getUint16(A)){case 18761:r=!0;break;case 19789:r=!1;break;default:return H("TIFF header contains invalid endian")}if(t.getUint16(A+2,r)!==42)return H("TIFF header contains invalid version");const i=t.getUint32(A+4,r),n=A+i+2+12*t.getUint16(A+i,r);for(let o=A+i+2;o<n;o+=12)if(t.getUint16(o,r)==274){if(t.getUint16(o+2,r)!==3)return H("Orientation data type is invalid");if(t.getUint32(o+4,r)!==1)return H("Orientation data count is invalid");t.setUint16(o+8,1,r);break}return M(e.slice(l,l+2+p))}l+=2+p}return M(new Blob)}),d.readAsArrayBuffer(k)});var Be={},xt={get exports(){return Be},set exports(k){Be=k}};(function(k){var M,H,d={};xt.exports=d,d.parse=function(e,t){for(var l=d.bin.readUshort,f=d.bin.readUint,p=0,A={},r=new Uint8Array(e),i=r.length-4;f(r,i)!=101010256;)i--;p=i,p+=4;var n=l(r,p+=4);l(r,p+=2);var o=f(r,p+=2),h=f(r,p+=4);p+=4,p=h;for(var U=0;U<n;U++){f(r,p),p+=4,p+=4,p+=4,f(r,p+=4),o=f(r,p+=4);var C=f(r,p+=4),m=l(r,p+=4),L=l(r,p+2),S=l(r,p+4);p+=6;var I=f(r,p+=8);p+=4,p+=m+L+S,d._readLocal(r,I,A,o,C,t)}return A},d._readLocal=function(e,t,l,f,p,A){var r=d.bin.readUshort,i=d.bin.readUint;i(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var o=r(e,t+=8),h=r(e,t+=2);t+=2;var U=d.bin.readUTF8(e,t,o);if(t+=o,t+=h,A)l[U]={size:p,csize:f};else{var C=new Uint8Array(e.buffer,t);if(n==0)l[U]=new Uint8Array(C.buffer.slice(t,t+f));else{if(n!=8)throw"unknown compression method: "+n;var m=new Uint8Array(p);d.inflateRaw(C,m),l[U]=m}}},d.inflateRaw=function(e,t){return d.F.inflate(e,t)},d.inflate=function(e,t){return e[0],e[1],d.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},d.deflate=function(e,t){t==null&&(t={level:6});var l=0,f=new Uint8Array(50+Math.floor(1.1*e.length));f[l]=120,f[l+1]=156,l+=2,l=d.F.deflateRaw(e,f,l,t.level);var p=d.adler(e,0,e.length);return f[l+0]=p>>>24&255,f[l+1]=p>>>16&255,f[l+2]=p>>>8&255,f[l+3]=p>>>0&255,new Uint8Array(f.buffer,0,l+4)},d.deflateRaw=function(e,t){t==null&&(t={level:6});var l=new Uint8Array(50+Math.floor(1.1*e.length)),f=d.F.deflateRaw(e,l,f,t.level);return new Uint8Array(l.buffer,0,f)},d.encode=function(e,t){t==null&&(t=!1);var l=0,f=d.bin.writeUint,p=d.bin.writeUshort,A={};for(var r in e){var i=!d._noNeed(r)&&!t,n=e[r],o=d.crc.crc(n,0,n.length);A[r]={cpr:i,usize:n.length,crc:o,file:i?d.deflateRaw(n):n}}for(var r in A)l+=A[r].file.length+30+46+2*d.bin.sizeUTF8(r);l+=22;var h=new Uint8Array(l),U=0,C=[];for(var r in A){var m=A[r];C.push(U),U=d._writeHeader(h,U,r,m,0)}var L=0,S=U;for(var r in A)m=A[r],C.push(U),U=d._writeHeader(h,U,r,m,1,C[L++]);var I=U-S;return f(h,U,101010256),U+=4,p(h,U+=4,L),p(h,U+=2,L),f(h,U+=2,I),f(h,U+=4,S),U+=4,U+=2,h.buffer},d._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},d._writeHeader=function(e,t,l,f,p,A){var r=d.bin.writeUint,i=d.bin.writeUshort,n=f.file;return r(e,t,p==0?67324752:33639248),t+=4,p==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,f.cpr?8:0),r(e,t+=2,0),r(e,t+=4,f.crc),r(e,t+=4,n.length),r(e,t+=4,f.usize),i(e,t+=4,d.bin.sizeUTF8(l)),i(e,t+=2,0),t+=2,p==1&&(t+=2,t+=2,r(e,t+=6,A),t+=4),t+=d.bin.writeUTF8(e,t,l),p==0&&(e.set(n,t),t+=n.length),t},d.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var l=t,f=0;f<8;f++)1&l?l=3988292384^l>>>1:l>>>=1;e[t]=l}return e}(),update:function(e,t,l,f){for(var p=0;p<f;p++)e=d.crc.table[255&(e^t[l+p])]^e>>>8;return e},crc:function(e,t,l){return 4294967295^d.crc.update(4294967295,e,t,l)}},d.adler=function(e,t,l){for(var f=1,p=0,A=t,r=t+l;A<r;){for(var i=Math.min(A+5552,r);A<i;)p+=f+=e[A++];f%=65521,p%=65521}return p<<16|f},d.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255,e[t+2]=l>>16&255,e[t+3]=l>>24&255},readASCII:function(e,t,l){for(var f="",p=0;p<l;p++)f+=String.fromCharCode(e[t+p]);return f},writeASCII:function(e,t,l){for(var f=0;f<l.length;f++)e[t+f]=l.charCodeAt(f)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,l){for(var f,p="",A=0;A<l;A++)p+="%"+d.bin.pad(e[t+A].toString(16));try{f=decodeURIComponent(p)}catch{return d.bin.readASCII(e,t,l)}return f},writeUTF8:function(e,t,l){for(var f=l.length,p=0,A=0;A<f;A++){var r=l.charCodeAt(A);if((4294967168&r)==0)e[t+p]=r,p++;else if((4294965248&r)==0)e[t+p]=192|r>>6,e[t+p+1]=128|r>>0&63,p+=2;else if((4294901760&r)==0)e[t+p]=224|r>>12,e[t+p+1]=128|r>>6&63,e[t+p+2]=128|r>>0&63,p+=3;else{if((4292870144&r)!=0)throw"e";e[t+p]=240|r>>18,e[t+p+1]=128|r>>12&63,e[t+p+2]=128|r>>6&63,e[t+p+3]=128|r>>0&63,p+=4}}return p},sizeUTF8:function(e){for(var t=e.length,l=0,f=0;f<t;f++){var p=e.charCodeAt(f);if((4294967168&p)==0)l++;else if((4294965248&p)==0)l+=2;else if((4294901760&p)==0)l+=3;else{if((4292870144&p)!=0)throw"e";l+=4}}return l}},d.F={},d.F.deflateRaw=function(e,t,l,f){var p=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][f],A=d.F.U,r=d.F._goodIndex;d.F._hash;var i=d.F._putsE,n=0,o=l<<3,h=0,U=e.length;if(f==0){for(;n<U;)i(t,o,n+(w=Math.min(65535,U-n))==U?1:0),o=d.F._copyExact(e,n,w,t,o+8),n+=w;return o>>>3}var C=A.lits,m=A.strt,L=A.prev,S=0,I=0,P=0,g=0,R=0,u=0;for(U>2&&(m[u=d.F._hash(e,0)]=0),n=0;n<U;n++){if(R=u,n+1<U-2){u=d.F._hash(e,n+1);var s=n+1&32767;L[s]=m[u],m[u]=s}if(h<=n){(S>14e3||I>26697)&&U-n>100&&(h<n&&(C[S]=n-h,S+=2,h=n),o=d.F._writeBlock(n==U-1||h==U?1:0,C,S,g,e,P,n-P,t,o),S=I=g=0,P=n);var b=0;n<U-2&&(b=d.F._bestMatch(e,n,L,R,Math.min(p[2],U-n),p[3]));var w=b>>>16,y=65535&b;if(b!=0){y=65535&b;var _=r(w=b>>>16,A.of0);A.lhst[257+_]++;var v=r(y,A.df0);A.dhst[v]++,g+=A.exb[_]+A.dxb[v],C[S]=w<<23|n-h,C[S+1]=y<<16|_<<8|v,S+=2,h=n+w}else A.lhst[e[n]]++;I++}}for(P==n&&e.length!=0||(h<n&&(C[S]=n-h,S+=2,h=n),o=d.F._writeBlock(1,C,S,g,e,P,n-P,t,o),S=0,I=0,S=I=g=0,P=n);(7&o)!=0;)o++;return o>>>3},d.F._bestMatch=function(e,t,l,f,p,A){var r=32767&t,i=l[r],n=r-i+32768&32767;if(i==r||f!=d.F._hash(e,t-n))return 0;for(var o=0,h=0,U=Math.min(32767,t);n<=U&&--A!=0&&i!=r;){if(o==0||e[t+o]==e[t+o-n]){var C=d.F._howLong(e,t,n);if(C>o){if(h=n,(o=C)>=p)break;n+2<C&&(C=n+2);for(var m=0,L=0;L<C-2;L++){var S=t-n+L+32768&32767,I=S-l[S]+32768&32767;I>m&&(m=I,i=S)}}}n+=(r=i)-(i=l[r])+32768&32767}return o<<16|h},d.F._howLong=function(e,t,l){if(e[t]!=e[t-l]||e[t+1]!=e[t+1-l]||e[t+2]!=e[t+2-l])return 0;var f=t,p=Math.min(e.length,t+258);for(t+=3;t<p&&e[t]==e[t-l];)t++;return t-f},d.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},d.saved=0,d.F._writeBlock=function(e,t,l,f,p,A,r,i,n){var o,h,U,C,m,L,S,I,P,g=d.F.U,R=d.F._putsF,u=d.F._putsE;g.lhst[256]++,h=(o=d.F.getTrees())[0],U=o[1],C=o[2],m=o[3],L=o[4],S=o[5],I=o[6],P=o[7];var s=32+((n+3&7)==0?0:8-(n+3&7))+(r<<3),b=f+d.F.contSize(g.fltree,g.lhst)+d.F.contSize(g.fdtree,g.dhst),w=f+d.F.contSize(g.ltree,g.lhst)+d.F.contSize(g.dtree,g.dhst);w+=14+3*S+d.F.contSize(g.itree,g.ihst)+(2*g.ihst[16]+3*g.ihst[17]+7*g.ihst[18]);for(var y=0;y<286;y++)g.lhst[y]=0;for(y=0;y<30;y++)g.dhst[y]=0;for(y=0;y<19;y++)g.ihst[y]=0;var _=s<b&&s<w?0:b<w?1:2;if(R(i,n,e),R(i,n+1,_),n+=3,_==0){for(;(7&n)!=0;)n++;n=d.F._copyExact(p,A,r,i,n)}else{var v,E;if(_==1&&(v=g.fltree,E=g.fdtree),_==2){d.F.makeCodes(g.ltree,h),d.F.revCodes(g.ltree,h),d.F.makeCodes(g.dtree,U),d.F.revCodes(g.dtree,U),d.F.makeCodes(g.itree,C),d.F.revCodes(g.itree,C),v=g.ltree,E=g.dtree,u(i,n,m-257),u(i,n+=5,L-1),u(i,n+=5,S-4),n+=4;for(var c=0;c<S;c++)u(i,n+3*c,g.itree[1+(g.ordr[c]<<1)]);n+=3*S,n=d.F._codeTiny(I,g.itree,i,n),n=d.F._codeTiny(P,g.itree,i,n)}for(var a=A,T=0;T<l;T+=2){for(var F=t[T],O=F>>>23,z=a+(8388607&F);a<z;)n=d.F._writeLit(p[a++],v,i,n);if(O!=0){var B=t[T+1],N=B>>16,D=B>>8&255,x=255&B;u(i,n=d.F._writeLit(257+D,v,i,n),O-g.of0[D]),n+=g.exb[D],R(i,n=d.F._writeLit(x,E,i,n),N-g.df0[x]),n+=g.dxb[x],a+=O}}n=d.F._writeLit(256,v,i,n)}return n},d.F._copyExact=function(e,t,l,f,p){var A=p>>>3;return f[A]=l,f[A+1]=l>>>8,f[A+2]=255-f[A],f[A+3]=255-f[A+1],A+=4,f.set(new Uint8Array(e.buffer,t,l),A),p+(l+4<<3)},d.F.getTrees=function(){for(var e=d.F.U,t=d.F._hufTree(e.lhst,e.ltree,15),l=d.F._hufTree(e.dhst,e.dtree,15),f=[],p=d.F._lenCodes(e.ltree,f),A=[],r=d.F._lenCodes(e.dtree,A),i=0;i<f.length;i+=2)e.ihst[f[i]]++;for(i=0;i<A.length;i+=2)e.ihst[A[i]]++;for(var n=d.F._hufTree(e.ihst,e.itree,7),o=19;o>4&&e.itree[1+(e.ordr[o-1]<<1)]==0;)o--;return[t,l,n,p,r,o,f,A]},d.F.getSecond=function(e){for(var t=[],l=0;l<e.length;l+=2)t.push(e[l+1]);return t},d.F.nonZero=function(e){for(var t="",l=0;l<e.length;l+=2)e[l+1]!=0&&(t+=(l>>1)+",");return t},d.F.contSize=function(e,t){for(var l=0,f=0;f<t.length;f++)l+=t[f]*e[1+(f<<1)];return l},d.F._codeTiny=function(e,t,l,f){for(var p=0;p<e.length;p+=2){var A=e[p],r=e[p+1];f=d.F._writeLit(A,t,l,f);var i=A==16?2:A==17?3:7;A>15&&(d.F._putsE(l,f,r,i),f+=i)}return f},d.F._lenCodes=function(e,t){for(var l=e.length;l!=2&&e[l-1]==0;)l-=2;for(var f=0;f<l;f+=2){var p=e[f+1],A=f+3<l?e[f+3]:-1,r=f+5<l?e[f+5]:-1,i=f==0?-1:e[f-1];if(p==0&&A==p&&r==p){for(var n=f+5;n+2<l&&e[n+2]==p;)n+=2;(o=Math.min(n+1-f>>>1,138))<11?t.push(17,o-3):t.push(18,o-11),f+=2*o-2}else if(p==i&&A==p&&r==p){for(n=f+5;n+2<l&&e[n+2]==p;)n+=2;var o=Math.min(n+1-f>>>1,6);t.push(16,o-3),f+=2*o-2}else t.push(p,0)}return l>>>1},d.F._hufTree=function(e,t,l){var f=[],p=e.length,A=t.length,r=0;for(r=0;r<A;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<p;r++)e[r]!=0&&f.push({lit:r,f:e[r]});var i=f.length,n=f.slice(0);if(i==0)return 0;if(i==1){var o=f[0].lit;return n=o==0?1:0,t[1+(o<<1)]=1,t[1+(n<<1)]=1,1}f.sort(function(I,P){return I.f-P.f});var h=f[0],U=f[1],C=0,m=1,L=2;for(f[0]={lit:-1,f:h.f+U.f,l:h,r:U,d:0};m!=i-1;)h=C!=m&&(L==i||f[C].f<f[L].f)?f[C++]:f[L++],U=C!=m&&(L==i||f[C].f<f[L].f)?f[C++]:f[L++],f[m++]={lit:-1,f:h.f+U.f,l:h,r:U};var S=d.F.setDepth(f[m-1],0);for(S>l&&(d.F.restrictDepth(n,l,S),S=l),r=0;r<i;r++)t[1+(n[r].lit<<1)]=n[r].d;return S},d.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(d.F.setDepth(e.l,t+1),d.F.setDepth(e.r,t+1))},d.F.restrictDepth=function(e,t,l){var f=0,p=1<<l-t,A=0;for(e.sort(function(i,n){return n.d==i.d?i.f-n.f:n.d-i.d}),f=0;f<e.length&&e[f].d>t;f++){var r=e[f].d;e[f].d=t,A+=p-(1<<l-r)}for(A>>>=l-t;A>0;)(r=e[f].d)<t?(e[f].d++,A-=1<<t-r-1):f++;for(;f>=0;f--)e[f].d==t&&A<0&&(e[f].d--,A++);A!=0&&console.log("debt left")},d.F._goodIndex=function(e,t){var l=0;return t[16|l]<=e&&(l|=16),t[8|l]<=e&&(l|=8),t[4|l]<=e&&(l|=4),t[2|l]<=e&&(l|=2),t[1|l]<=e&&(l|=1),l},d.F._writeLit=function(e,t,l,f){return d.F._putsF(l,f,t[e<<1]),f+t[1+(e<<1)]},d.F.inflate=function(e,t){var l=Uint8Array;if(e[0]==3&&e[1]==0)return t||new l(0);var f=d.F,p=f._bitsF,A=f._bitsE,r=f._decodeTiny,i=f.makeCodes,n=f.codes2map,o=f._get17,h=f.U,U=t==null;U&&(t=new l(e.length>>>2<<3));for(var C,m,L=0,S=0,I=0,P=0,g=0,R=0,u=0,s=0,b=0;L==0;)if(L=p(e,b,1),S=p(e,b+1,2),b+=3,S!=0){if(U&&(t=d.F._check(t,s+(1<<17))),S==1&&(C=h.flmap,m=h.fdmap,R=511,u=31),S==2){I=A(e,b,5)+257,P=A(e,b+5,5)+1,g=A(e,b+10,4)+4,b+=14;for(var w=0;w<38;w+=2)h.itree[w]=0,h.itree[w+1]=0;var y=1;for(w=0;w<g;w++){var _=A(e,b+3*w,3);h.itree[1+(h.ordr[w]<<1)]=_,_>y&&(y=_)}b+=3*g,i(h.itree,y),n(h.itree,y,h.imap),C=h.lmap,m=h.dmap,b=r(h.imap,(1<<y)-1,I+P,e,b,h.ttree);var v=f._copyOut(h.ttree,0,I,h.ltree);R=(1<<v)-1;var E=f._copyOut(h.ttree,I,P,h.dtree);u=(1<<E)-1,i(h.ltree,v),n(h.ltree,v,C),i(h.dtree,E),n(h.dtree,E,m)}for(;;){var c=C[o(e,b)&R];b+=15&c;var a=c>>>4;if(!(a>>>8))t[s++]=a;else{if(a==256)break;var T=s+a-254;if(a>264){var F=h.ldef[a-257];T=s+(F>>>3)+A(e,b,7&F),b+=7&F}var O=m[o(e,b)&u];b+=15&O;var z=O>>>4,B=h.ddef[z],N=(B>>>4)+p(e,b,15&B);for(b+=15&B,U&&(t=d.F._check(t,s+(1<<17)));s<T;)t[s]=t[s++-N],t[s]=t[s++-N],t[s]=t[s++-N],t[s]=t[s++-N];s=T}}}else{(7&b)!=0&&(b+=8-(7&b));var D=4+(b>>>3),x=e[D-4]|e[D-3]<<8;U&&(t=d.F._check(t,s+x)),t.set(new l(e.buffer,e.byteOffset+D,x),s),b=D+x<<3,s+=x}return t.length==s?t:t.slice(0,s)},d.F._check=function(e,t){var l=e.length;if(t<=l)return e;var f=new Uint8Array(Math.max(l<<1,t));return f.set(e,0),f},d.F._decodeTiny=function(e,t,l,f,p,A){for(var r=d.F._bitsE,i=d.F._get17,n=0;n<l;){var o=e[i(f,p)&t];p+=15&o;var h=o>>>4;if(h<=15)A[n]=h,n++;else{var U=0,C=0;h==16?(C=3+r(f,p,2),p+=2,U=A[n-1]):h==17?(C=3+r(f,p,3),p+=3):h==18&&(C=11+r(f,p,7),p+=7);for(var m=n+C;n<m;)A[n]=U,n++}}return p},d.F._copyOut=function(e,t,l,f){for(var p=0,A=0,r=f.length>>>1;A<l;){var i=e[A+t];f[A<<1]=0,f[1+(A<<1)]=i,i>p&&(p=i),A++}for(;A<r;)f[A<<1]=0,f[1+(A<<1)]=0,A++;return p},d.F.makeCodes=function(e,t){for(var l,f,p,A,r=d.F.U,i=e.length,n=r.bl_count,o=0;o<=t;o++)n[o]=0;for(o=1;o<i;o+=2)n[e[o]]++;var h=r.next_code;for(l=0,n[0]=0,f=1;f<=t;f++)l=l+n[f-1]<<1,h[f]=l;for(p=0;p<i;p+=2)(A=e[p+1])!=0&&(e[p]=h[A],h[A]++)},d.F.codes2map=function(e,t,l){for(var f=e.length,p=d.F.U.rev15,A=0;A<f;A+=2)if(e[A+1]!=0)for(var r=A>>1,i=e[A+1],n=r<<4|i,o=t-i,h=e[A]<<o,U=h+(1<<o);h!=U;)l[p[h]>>>15-t]=n,h++},d.F.revCodes=function(e,t){for(var l=d.F.U.rev15,f=15-t,p=0;p<e.length;p+=2){var A=e[p]<<t-e[p+1];e[p]=l[A]>>>f}},d.F._putsE=function(e,t,l){l<<=7&t;var f=t>>>3;e[f]|=l,e[f+1]|=l>>>8},d.F._putsF=function(e,t,l){l<<=7&t;var f=t>>>3;e[f]|=l,e[f+1]|=l>>>8,e[f+2]|=l>>>16},d.F._bitsE=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<l)-1},d.F._bitsF=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<l)-1},d.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},d.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},d.F.U=(M=Uint16Array,H=Uint32Array,{next_code:new M(16),bl_count:new M(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new M(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new H(32),flmap:new M(512),fltree:[],fdmap:new M(32),fdtree:[],lmap:new M(32768),ltree:[],ttree:[],dmap:new M(32768),dtree:[],imap:new M(512),itree:[],rev15:new M(32768),lhst:new H(286),dhst:new H(30),ihst:new H(19),lits:new H(15e3),strt:new M(65536),prev:new M(32768)}),function(){for(var e=d.F.U,t=0;t<32768;t++){var l=t;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,e.rev15[t]=(l>>>16|l<<16)>>>17}function f(p,A,r){for(;A--!=0;)p.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];f(e.fltree,144,8),f(e.fltree,112,9),f(e.fltree,24,7),f(e.fltree,8,8),d.F.makeCodes(e.fltree,9),d.F.codes2map(e.fltree,9,e.flmap),d.F.revCodes(e.fltree,9),f(e.fdtree,32,5),d.F.makeCodes(e.fdtree,5),d.F.codes2map(e.fdtree,5,e.fdmap),d.F.revCodes(e.fdtree,5),f(e.itree,19,0),f(e.ltree,286,0),f(e.dtree,30,0),f(e.ttree,320,0)}()})();var Rt=It({__proto__:null,default:Be},[Be]);const he=function(){var k={nextZero(r,i){for(;r[i]!=0;)i++;return i},readUshort:(r,i)=>r[i]<<8|r[i+1],writeUshort(r,i,n){r[i]=n>>8&255,r[i+1]=255&n},readUint:(r,i)=>16777216*r[i]+(r[i+1]<<16|r[i+2]<<8|r[i+3]),writeUint(r,i,n){r[i]=n>>24&255,r[i+1]=n>>16&255,r[i+2]=n>>8&255,r[i+3]=255&n},readASCII(r,i,n){let o="";for(let h=0;h<n;h++)o+=String.fromCharCode(r[i+h]);return o},writeASCII(r,i,n){for(let o=0;o<n.length;o++)r[i+o]=n.charCodeAt(o)},readBytes(r,i,n){const o=[];for(let h=0;h<n;h++)o.push(r[i+h]);return o},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,i,n){let o,h="";for(let U=0;U<n;U++)h+=`%${k.pad(r[i+U].toString(16))}`;try{o=decodeURIComponent(h)}catch{return k.readASCII(r,i,n)}return o}};function M(r,i,n,o){const h=i*n,U=t(o),C=Math.ceil(i*U/8),m=new Uint8Array(4*h),L=new Uint32Array(m.buffer),{ctype:S}=o,{depth:I}=o,P=k.readUshort;if(S==6){const F=h<<2;if(I==8)for(var g=0;g<F;g+=4)m[g]=r[g],m[g+1]=r[g+1],m[g+2]=r[g+2],m[g+3]=r[g+3];if(I==16)for(g=0;g<F;g++)m[g]=r[g<<1]}else if(S==2){const F=o.tabs.tRNS;if(F==null){if(I==8)for(g=0;g<h;g++){var R=3*g;L[g]=255<<24|r[R+2]<<16|r[R+1]<<8|r[R]}if(I==16)for(g=0;g<h;g++)R=6*g,L[g]=255<<24|r[R+4]<<16|r[R+2]<<8|r[R]}else{var u=F[0];const O=F[1],z=F[2];if(I==8)for(g=0;g<h;g++){var s=g<<2;R=3*g,L[g]=255<<24|r[R+2]<<16|r[R+1]<<8|r[R],r[R]==u&&r[R+1]==O&&r[R+2]==z&&(m[s+3]=0)}if(I==16)for(g=0;g<h;g++)s=g<<2,R=6*g,L[g]=255<<24|r[R+4]<<16|r[R+2]<<8|r[R],P(r,R)==u&&P(r,R+2)==O&&P(r,R+4)==z&&(m[s+3]=0)}}else if(S==3){const F=o.tabs.PLTE,O=o.tabs.tRNS,z=O?O.length:0;if(I==1)for(var b=0;b<n;b++){var w=b*C,y=b*i;for(g=0;g<i;g++){s=y+g<<2;var _=3*(v=r[w+(g>>3)]>>7-((7&g)<<0)&1);m[s]=F[_],m[s+1]=F[_+1],m[s+2]=F[_+2],m[s+3]=v<z?O[v]:255}}if(I==2)for(b=0;b<n;b++)for(w=b*C,y=b*i,g=0;g<i;g++)s=y+g<<2,_=3*(v=r[w+(g>>2)]>>6-((3&g)<<1)&3),m[s]=F[_],m[s+1]=F[_+1],m[s+2]=F[_+2],m[s+3]=v<z?O[v]:255;if(I==4)for(b=0;b<n;b++)for(w=b*C,y=b*i,g=0;g<i;g++)s=y+g<<2,_=3*(v=r[w+(g>>1)]>>4-((1&g)<<2)&15),m[s]=F[_],m[s+1]=F[_+1],m[s+2]=F[_+2],m[s+3]=v<z?O[v]:255;if(I==8)for(g=0;g<h;g++){var v;s=g<<2,_=3*(v=r[g]),m[s]=F[_],m[s+1]=F[_+1],m[s+2]=F[_+2],m[s+3]=v<z?O[v]:255}}else if(S==4){if(I==8)for(g=0;g<h;g++){s=g<<2;var E=r[c=g<<1];m[s]=E,m[s+1]=E,m[s+2]=E,m[s+3]=r[c+1]}if(I==16)for(g=0;g<h;g++){var c;s=g<<2,E=r[c=g<<2],m[s]=E,m[s+1]=E,m[s+2]=E,m[s+3]=r[c+2]}}else if(S==0)for(u=o.tabs.tRNS?o.tabs.tRNS:-1,b=0;b<n;b++){const F=b*C,O=b*i;if(I==1)for(var a=0;a<i;a++){var T=(E=255*(r[F+(a>>>3)]>>>7-(7&a)&1))==255*u?0:255;L[O+a]=T<<24|E<<16|E<<8|E}else if(I==2)for(a=0;a<i;a++)T=(E=85*(r[F+(a>>>2)]>>>6-((3&a)<<1)&3))==85*u?0:255,L[O+a]=T<<24|E<<16|E<<8|E;else if(I==4)for(a=0;a<i;a++)T=(E=17*(r[F+(a>>>1)]>>>4-((1&a)<<2)&15))==17*u?0:255,L[O+a]=T<<24|E<<16|E<<8|E;else if(I==8)for(a=0;a<i;a++)T=(E=r[F+a])==u?0:255,L[O+a]=T<<24|E<<16|E<<8|E;else if(I==16)for(a=0;a<i;a++)E=r[F+(a<<1)],T=P(r,F+(a<<1))==u?0:255,L[O+a]=T<<24|E<<16|E<<8|E}return m}function H(r,i,n,o){const h=t(r),U=Math.ceil(n*h/8),C=new Uint8Array((U+1+r.interlace)*o);return i=r.tabs.CgBI?e(i,C):d(i,C),r.interlace==0?i=l(i,r,0,n,o):r.interlace==1&&(i=function(L,S){const I=S.width,P=S.height,g=t(S),R=g>>3,u=Math.ceil(I*g/8),s=new Uint8Array(P*u);let b=0;const w=[0,0,4,0,2,0,1],y=[0,4,0,2,0,1,0],_=[8,8,8,4,4,2,2],v=[8,8,4,4,2,2,1];let E=0;for(;E<7;){const a=_[E],T=v[E];let F=0,O=0,z=w[E];for(;z<P;)z+=a,O++;let B=y[E];for(;B<I;)B+=T,F++;const N=Math.ceil(F*g/8);l(L,S,b,F,O);let D=0,x=w[E];for(;x<P;){let Q=y[E],V=b+D*N<<3;for(;Q<I;){var c;if(g==1&&(c=(c=L[V>>3])>>7-(7&V)&1,s[x*u+(Q>>3)]|=c<<7-((7&Q)<<0)),g==2&&(c=(c=L[V>>3])>>6-(7&V)&3,s[x*u+(Q>>2)]|=c<<6-((3&Q)<<1)),g==4&&(c=(c=L[V>>3])>>4-(7&V)&15,s[x*u+(Q>>1)]|=c<<4-((1&Q)<<2)),g>=8){const j=x*u+Q*R;for(let W=0;W<R;W++)s[j+W]=L[(V>>3)+W]}V+=g,Q+=T}D++,x+=a}F*O!=0&&(b+=O*(1+N)),E+=1}return s}(i,r)),i}function d(r,i){return e(new Uint8Array(r.buffer,2,r.length-6),i)}var e=function(){const r={H:{}};return r.H.N=function(i,n){const o=Uint8Array;let h,U,C=0,m=0,L=0,S=0,I=0,P=0,g=0,R=0,u=0;if(i[0]==3&&i[1]==0)return n||new o(0);const s=r.H,b=s.b,w=s.e,y=s.R,_=s.n,v=s.A,E=s.Z,c=s.m,a=n==null;for(a&&(n=new o(i.length>>>2<<5));C==0;)if(C=b(i,u,1),m=b(i,u+1,2),u+=3,m!=0){if(a&&(n=r.H.W(n,R+(1<<17))),m==1&&(h=c.J,U=c.h,P=511,g=31),m==2){L=w(i,u,5)+257,S=w(i,u+5,5)+1,I=w(i,u+10,4)+4,u+=14;let F=1;for(var T=0;T<38;T+=2)c.Q[T]=0,c.Q[T+1]=0;for(T=0;T<I;T++){const B=w(i,u+3*T,3);c.Q[1+(c.X[T]<<1)]=B,B>F&&(F=B)}u+=3*I,_(c.Q,F),v(c.Q,F,c.u),h=c.w,U=c.d,u=y(c.u,(1<<F)-1,L+S,i,u,c.v);const O=s.V(c.v,0,L,c.C);P=(1<<O)-1;const z=s.V(c.v,L,S,c.D);g=(1<<z)-1,_(c.C,O),v(c.C,O,h),_(c.D,z),v(c.D,z,U)}for(;;){const F=h[E(i,u)&P];u+=15&F;const O=F>>>4;if(!(O>>>8))n[R++]=O;else{if(O==256)break;{let z=R+O-254;if(O>264){const Q=c.q[O-257];z=R+(Q>>>3)+w(i,u,7&Q),u+=7&Q}const B=U[E(i,u)&g];u+=15&B;const N=B>>>4,D=c.c[N],x=(D>>>4)+b(i,u,15&D);for(u+=15&D;R<z;)n[R]=n[R++-x],n[R]=n[R++-x],n[R]=n[R++-x],n[R]=n[R++-x];R=z}}}}else{(7&u)!=0&&(u+=8-(7&u));const F=4+(u>>>3),O=i[F-4]|i[F-3]<<8;a&&(n=r.H.W(n,R+O)),n.set(new o(i.buffer,i.byteOffset+F,O),R),u=F+O<<3,R+=O}return n.length==R?n:n.slice(0,R)},r.H.W=function(i,n){const o=i.length;if(n<=o)return i;const h=new Uint8Array(o<<1);return h.set(i,0),h},r.H.R=function(i,n,o,h,U,C){const m=r.H.e,L=r.H.Z;let S=0;for(;S<o;){const I=i[L(h,U)&n];U+=15&I;const P=I>>>4;if(P<=15)C[S]=P,S++;else{let g=0,R=0;P==16?(R=3+m(h,U,2),U+=2,g=C[S-1]):P==17?(R=3+m(h,U,3),U+=3):P==18&&(R=11+m(h,U,7),U+=7);const u=S+R;for(;S<u;)C[S]=g,S++}}return U},r.H.V=function(i,n,o,h){let U=0,C=0;const m=h.length>>>1;for(;C<o;){const L=i[C+n];h[C<<1]=0,h[1+(C<<1)]=L,L>U&&(U=L),C++}for(;C<m;)h[C<<1]=0,h[1+(C<<1)]=0,C++;return U},r.H.n=function(i,n){const o=r.H.m,h=i.length;let U,C,m,L;const S=o.j;for(var I=0;I<=n;I++)S[I]=0;for(I=1;I<h;I+=2)S[i[I]]++;const P=o.K;for(U=0,S[0]=0,C=1;C<=n;C++)U=U+S[C-1]<<1,P[C]=U;for(m=0;m<h;m+=2)L=i[m+1],L!=0&&(i[m]=P[L],P[L]++)},r.H.A=function(i,n,o){const h=i.length,U=r.H.m.r;for(let C=0;C<h;C+=2)if(i[C+1]!=0){const m=C>>1,L=i[C+1],S=m<<4|L,I=n-L;let P=i[C]<<I;const g=P+(1<<I);for(;P!=g;)o[U[P]>>>15-n]=S,P++}},r.H.l=function(i,n){const o=r.H.m.r,h=15-n;for(let U=0;U<i.length;U+=2){const C=i[U]<<n-i[U+1];i[U]=o[C]>>>h}},r.H.M=function(i,n,o){o<<=7&n;const h=n>>>3;i[h]|=o,i[h+1]|=o>>>8},r.H.I=function(i,n,o){o<<=7&n;const h=n>>>3;i[h]|=o,i[h+1]|=o>>>8,i[h+2]|=o>>>16},r.H.e=function(i,n,o){return(i[n>>>3]|i[1+(n>>>3)]<<8)>>>(7&n)&(1<<o)-1},r.H.b=function(i,n,o){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)&(1<<o)-1},r.H.Z=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16|i[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=function(){const i=Uint16Array,n=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=r.H.m;for(var n=0;n<32768;n++){let h=n;h=(2863311530&h)>>>1|(1431655765&h)<<1,h=(3435973836&h)>>>2|(858993459&h)<<2,h=(4042322160&h)>>>4|(252645135&h)<<4,h=(4278255360&h)>>>8|(16711935&h)<<8,i.r[n]=(h>>>16|h<<16)>>>17}function o(h,U,C){for(;U--!=0;)h.push(0,C)}for(n=0;n<32;n++)i.q[n]=i.S[n]<<3|i.T[n],i.c[n]=i.p[n]<<4|i.z[n];o(i._,144,8),o(i._,112,9),o(i._,24,7),o(i._,8,8),r.H.n(i._,9),r.H.A(i._,9,i.J),r.H.l(i._,9),o(i.$,32,5),r.H.n(i.$,5),r.H.A(i.$,5,i.h),r.H.l(i.$,5),o(i.Q,19,0),o(i.C,286,0),o(i.D,30,0),o(i.v,320,0)}(),r.H.N}();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function l(r,i,n,o,h){let U=t(i);const C=Math.ceil(o*U/8);let m,L;U=Math.ceil(U/8);let S=r[n],I=0;if(S>1&&(r[n]=[0,0,1][S-2]),S==3)for(I=U;I<C;I++)r[I+1]=r[I+1]+(r[I+1-U]>>>1)&255;for(let P=0;P<h;P++)if(m=n+P*C,L=m+P+1,S=r[L-1],I=0,S==0)for(;I<C;I++)r[m+I]=r[L+I];else if(S==1){for(;I<U;I++)r[m+I]=r[L+I];for(;I<C;I++)r[m+I]=r[L+I]+r[m+I-U]}else if(S==2)for(;I<C;I++)r[m+I]=r[L+I]+r[m+I-C];else if(S==3){for(;I<U;I++)r[m+I]=r[L+I]+(r[m+I-C]>>>1);for(;I<C;I++)r[m+I]=r[L+I]+(r[m+I-C]+r[m+I-U]>>>1)}else{for(;I<U;I++)r[m+I]=r[L+I]+f(0,r[m+I-C],0);for(;I<C;I++)r[m+I]=r[L+I]+f(r[m+I-U],r[m+I-C],r[m+I-U-C])}return r}function f(r,i,n){const o=r+i-n,h=o-r,U=o-i,C=o-n;return h*h<=U*U&&h*h<=C*C?r:U*U<=C*C?i:n}function p(r,i,n){n.width=k.readUint(r,i),i+=4,n.height=k.readUint(r,i),i+=4,n.depth=r[i],i++,n.ctype=r[i],i++,n.compress=r[i],i++,n.filter=r[i],i++,n.interlace=r[i],i++}function A(r,i,n,o,h,U,C,m,L){const S=Math.min(i,h),I=Math.min(n,U);let P=0,g=0;for(let E=0;E<I;E++)for(let c=0;c<S;c++)if(C>=0&&m>=0?(P=E*i+c<<2,g=(m+E)*h+C+c<<2):(P=(-m+E)*i-C+c<<2,g=E*h+c<<2),L==0)o[g]=r[P],o[g+1]=r[P+1],o[g+2]=r[P+2],o[g+3]=r[P+3];else if(L==1){var R=r[P+3]*.00392156862745098,u=r[P]*R,s=r[P+1]*R,b=r[P+2]*R,w=o[g+3]*(1/255),y=o[g]*w,_=o[g+1]*w,v=o[g+2]*w;const a=1-R,T=R+w*a,F=T==0?0:1/T;o[g+3]=255*T,o[g+0]=(u+y*a)*F,o[g+1]=(s+_*a)*F,o[g+2]=(b+v*a)*F}else if(L==2)R=r[P+3],u=r[P],s=r[P+1],b=r[P+2],w=o[g+3],y=o[g],_=o[g+1],v=o[g+2],R==w&&u==y&&s==_&&b==v?(o[g]=0,o[g+1]=0,o[g+2]=0,o[g+3]=0):(o[g]=u,o[g+1]=s,o[g+2]=b,o[g+3]=R);else if(L==3){if(R=r[P+3],u=r[P],s=r[P+1],b=r[P+2],w=o[g+3],y=o[g],_=o[g+1],v=o[g+2],R==w&&u==y&&s==_&&b==v)continue;if(R<220&&w>20)return!1}return!0}return{decode:function(i){const n=new Uint8Array(i);let o=8;const h=k,U=h.readUshort,C=h.readUint,m={tabs:{},frames:[]},L=new Uint8Array(n.length);let S,I=0,P=0;const g=[137,80,78,71,13,10,26,10];for(var R=0;R<8;R++)if(n[R]!=g[R])throw"The input is not a PNG file!";for(;o<n.length;){const E=h.readUint(n,o);o+=4;const c=h.readASCII(n,o,4);if(o+=4,c=="IHDR")p(n,o,m);else if(c=="iCCP"){for(var u=o;n[u]!=0;)u++;h.readASCII(n,o,u-o),n[u+1];const a=n.slice(u+2,o+E);let T=null;try{T=d(a)}catch{T=e(a)}m.tabs[c]=T}else if(c=="CgBI")m.tabs[c]=n.slice(o,o+4);else if(c=="IDAT"){for(R=0;R<E;R++)L[I+R]=n[o+R];I+=E}else if(c=="acTL")m.tabs[c]={num_frames:C(n,o),num_plays:C(n,o+4)},S=new Uint8Array(n.length);else if(c=="fcTL"){P!=0&&((v=m.frames[m.frames.length-1]).data=H(m,S.slice(0,P),v.rect.width,v.rect.height),P=0);const a={x:C(n,o+12),y:C(n,o+16),width:C(n,o+4),height:C(n,o+8)};let T=U(n,o+22);T=U(n,o+20)/(T==0?100:T);const F={rect:a,delay:Math.round(1e3*T),dispose:n[o+24],blend:n[o+25]};m.frames.push(F)}else if(c=="fdAT"){for(R=0;R<E-4;R++)S[P+R]=n[o+R+4];P+=E-4}else if(c=="pHYs")m.tabs[c]=[h.readUint(n,o),h.readUint(n,o+4),n[o+8]];else if(c=="cHRM")for(m.tabs[c]=[],R=0;R<8;R++)m.tabs[c].push(h.readUint(n,o+4*R));else if(c=="tEXt"||c=="zTXt"){m.tabs[c]==null&&(m.tabs[c]={});var s=h.nextZero(n,o),b=h.readASCII(n,o,s-o),w=o+E-s-1;if(c=="tEXt")_=h.readASCII(n,s+1,w);else{var y=d(n.slice(s+2,s+2+w));_=h.readUTF8(y,0,y.length)}m.tabs[c][b]=_}else if(c=="iTXt"){m.tabs[c]==null&&(m.tabs[c]={}),s=0,u=o,s=h.nextZero(n,u),b=h.readASCII(n,u,s-u);const a=n[u=s+1];var _;n[u+1],u+=2,s=h.nextZero(n,u),h.readASCII(n,u,s-u),u=s+1,s=h.nextZero(n,u),h.readUTF8(n,u,s-u),w=E-((u=s+1)-o),a==0?_=h.readUTF8(n,u,w):(y=d(n.slice(u,u+w)),_=h.readUTF8(y,0,y.length)),m.tabs[c][b]=_}else if(c=="PLTE")m.tabs[c]=h.readBytes(n,o,E);else if(c=="hIST"){const a=m.tabs.PLTE.length/3;for(m.tabs[c]=[],R=0;R<a;R++)m.tabs[c].push(U(n,o+2*R))}else if(c=="tRNS")m.ctype==3?m.tabs[c]=h.readBytes(n,o,E):m.ctype==0?m.tabs[c]=U(n,o):m.ctype==2&&(m.tabs[c]=[U(n,o),U(n,o+2),U(n,o+4)]);else if(c=="gAMA")m.tabs[c]=h.readUint(n,o)/1e5;else if(c=="sRGB")m.tabs[c]=n[o];else if(c=="bKGD")m.ctype==0||m.ctype==4?m.tabs[c]=[U(n,o)]:m.ctype==2||m.ctype==6?m.tabs[c]=[U(n,o),U(n,o+2),U(n,o+4)]:m.ctype==3&&(m.tabs[c]=n[o]);else if(c=="IEND")break;o+=E,h.readUint(n,o),o+=4}var v;return P!=0&&((v=m.frames[m.frames.length-1]).data=H(m,S.slice(0,P),v.rect.width,v.rect.height)),m.data=H(m,L,m.width,m.height),delete m.compress,delete m.interlace,delete m.filter,m},toRGBA8:function(i){const n=i.width,o=i.height;if(i.tabs.acTL==null)return[M(i.data,n,o,i).buffer];const h=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const U=n*o*4,C=new Uint8Array(U),m=new Uint8Array(U),L=new Uint8Array(U);for(let I=0;I<i.frames.length;I++){const P=i.frames[I],g=P.rect.x,R=P.rect.y,u=P.rect.width,s=P.rect.height,b=M(P.data,u,s,i);if(I!=0)for(var S=0;S<U;S++)L[S]=C[S];if(P.blend==0?A(b,u,s,C,n,o,g,R,0):P.blend==1&&A(b,u,s,C,n,o,g,R,1),h.push(C.buffer.slice(0)),P.dispose!=0){if(P.dispose==1)A(m,u,s,C,n,o,g,R,0);else if(P.dispose==2)for(S=0;S<U;S++)C[S]=L[S]}}return h},_paeth:f,_copyTile:A,_bin:k}}();(function(){const{_copyTile:k}=he,{_bin:M}=he,H=he._paeth;var d={table:function(){const u=new Uint32Array(256);for(let s=0;s<256;s++){let b=s;for(let w=0;w<8;w++)1&b?b=3988292384^b>>>1:b>>>=1;u[s]=b}return u}(),update(u,s,b,w){for(let y=0;y<w;y++)u=d.table[255&(u^s[b+y])]^u>>>8;return u},crc:(u,s,b)=>4294967295^d.update(4294967295,u,s,b)};function e(u,s,b,w){s[b]+=u[0]*w>>4,s[b+1]+=u[1]*w>>4,s[b+2]+=u[2]*w>>4,s[b+3]+=u[3]*w>>4}function t(u){return Math.max(0,Math.min(255,u))}function l(u,s){const b=u[0]-s[0],w=u[1]-s[1],y=u[2]-s[2],_=u[3]-s[3];return b*b+w*w+y*y+_*_}function f(u,s,b,w,y,_,v){v==null&&(v=1);const E=w.length,c=[];for(var a=0;a<E;a++){const x=w[a];c.push([x>>>0&255,x>>>8&255,x>>>16&255,x>>>24&255])}for(a=0;a<E;a++){let x=4294967295;for(var T=0,F=0;F<E;F++){var O=l(c[a],c[F]);F!=a&&O<x&&(x=O,T=F)}}const z=new Uint32Array(y.buffer),B=new Int16Array(s*b*4),N=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(a=0;a<N.length;a++)N[a]=255*((N[a]+.5)/16-.5);for(let x=0;x<b;x++)for(let Q=0;Q<s;Q++){var D;a=4*(x*s+Q),v!=2?D=[t(u[a]+B[a]),t(u[a+1]+B[a+1]),t(u[a+2]+B[a+2]),t(u[a+3]+B[a+3])]:(O=N[4*(3&x)+(3&Q)],D=[t(u[a]+O),t(u[a+1]+O),t(u[a+2]+O),t(u[a+3]+O)]),T=0;let V=16777215;for(F=0;F<E;F++){const q=l(D,c[F]);q<V&&(V=q,T=F)}const j=c[T],W=[D[0]-j[0],D[1]-j[1],D[2]-j[2],D[3]-j[3]];v==1&&(Q!=s-1&&e(W,B,a+4,7),x!=b-1&&(Q!=0&&e(W,B,a+4*s-4,3),e(W,B,a+4*s,5),Q!=s-1&&e(W,B,a+4*s+4,1))),_[a>>2]=T,z[a>>2]=w[T]}}function p(u,s,b,w,y){y==null&&(y={});const{crc:_}=d,v=M.writeUint,E=M.writeUshort,c=M.writeASCII;let a=8;const T=u.frames.length>1;let F,O=!1,z=33+(T?20:0);if(y.sRGB!=null&&(z+=13),y.pHYs!=null&&(z+=21),y.iCCP!=null&&(F=pako.deflate(y.iCCP),z+=21+F.length+4),u.ctype==3){for(var B=u.plte.length,N=0;N<B;N++)u.plte[N]>>>24!=255&&(O=!0);z+=8+3*B+4+(O?8+1*B+4:0)}for(var D=0;D<u.frames.length;D++)T&&(z+=38),z+=(j=u.frames[D]).cimg.length+12,D!=0&&(z+=4);z+=12;const x=new Uint8Array(z),Q=[137,80,78,71,13,10,26,10];for(N=0;N<8;N++)x[N]=Q[N];if(v(x,a,13),a+=4,c(x,a,"IHDR"),a+=4,v(x,a,s),a+=4,v(x,a,b),a+=4,x[a]=u.depth,a++,x[a]=u.ctype,a++,x[a]=0,a++,x[a]=0,a++,x[a]=0,a++,v(x,a,_(x,a-17,17)),a+=4,y.sRGB!=null&&(v(x,a,1),a+=4,c(x,a,"sRGB"),a+=4,x[a]=y.sRGB,a++,v(x,a,_(x,a-5,5)),a+=4),y.iCCP!=null){const W=13+F.length;v(x,a,W),a+=4,c(x,a,"iCCP"),a+=4,c(x,a,"ICC profile"),a+=11,a+=2,x.set(F,a),a+=F.length,v(x,a,_(x,a-(W+4),W+4)),a+=4}if(y.pHYs!=null&&(v(x,a,9),a+=4,c(x,a,"pHYs"),a+=4,v(x,a,y.pHYs[0]),a+=4,v(x,a,y.pHYs[1]),a+=4,x[a]=y.pHYs[2],a++,v(x,a,_(x,a-13,13)),a+=4),T&&(v(x,a,8),a+=4,c(x,a,"acTL"),a+=4,v(x,a,u.frames.length),a+=4,v(x,a,y.loop!=null?y.loop:0),a+=4,v(x,a,_(x,a-12,12)),a+=4),u.ctype==3){for(v(x,a,3*(B=u.plte.length)),a+=4,c(x,a,"PLTE"),a+=4,N=0;N<B;N++){const W=3*N,q=u.plte[N],X=255&q,ee=q>>>8&255,_e=q>>>16&255;x[a+W+0]=X,x[a+W+1]=ee,x[a+W+2]=_e}if(a+=3*B,v(x,a,_(x,a-3*B-4,3*B+4)),a+=4,O){for(v(x,a,B),a+=4,c(x,a,"tRNS"),a+=4,N=0;N<B;N++)x[a+N]=u.plte[N]>>>24&255;a+=B,v(x,a,_(x,a-B-4,B+4)),a+=4}}let V=0;for(D=0;D<u.frames.length;D++){var j=u.frames[D];T&&(v(x,a,26),a+=4,c(x,a,"fcTL"),a+=4,v(x,a,V++),a+=4,v(x,a,j.rect.width),a+=4,v(x,a,j.rect.height),a+=4,v(x,a,j.rect.x),a+=4,v(x,a,j.rect.y),a+=4,E(x,a,w[D]),a+=2,E(x,a,1e3),a+=2,x[a]=j.dispose,a++,x[a]=j.blend,a++,v(x,a,_(x,a-30,30)),a+=4);const W=j.cimg;v(x,a,(B=W.length)+(D==0?0:4)),a+=4;const q=a;c(x,a,D==0?"IDAT":"fdAT"),a+=4,D!=0&&(v(x,a,V++),a+=4),x.set(W,a),a+=B,v(x,a,_(x,q,a-q)),a+=4}return v(x,a,0),a+=4,c(x,a,"IEND"),a+=4,v(x,a,_(x,a-4,4)),a+=4,x.buffer}function A(u,s,b){for(let w=0;w<u.frames.length;w++){const y=u.frames[w];y.rect.width;const _=y.rect.height,v=new Uint8Array(_*y.bpl+_);y.cimg=o(y.img,_,y.bpp,y.bpl,v,s,b)}}function r(u,s,b,w,y){const _=y[0],v=y[1],E=y[2],c=y[3],a=y[4],T=y[5];let F=6,O=8,z=255;for(var B=0;B<u.length;B++){const ne=new Uint8Array(u[B]);for(var N=ne.length,D=0;D<N;D+=4)z&=ne[D+3]}const x=z!=255,Q=function(Z,G,te,oe,Y,se){const J=[];for(var K=0;K<Z.length;K++){const ae=new Uint8Array(Z[K]),ce=new Uint32Array(ae.buffer);var le;let ue=0,be=0,pe=G,Ee=te,je=oe?1:0;if(K!=0){const gt=se||oe||K==1||J[K-2].dispose!=0?1:2;let qe=0,Je=1e9;for(let Te=0;Te<gt;Te++){var Ae=new Uint8Array(Z[K-1-Te]);const pt=new Uint32Array(Z[K-1-Te]);let ye=G,we=te,ke=-1,Pe=-1;for(let Ie=0;Ie<te;Ie++)for(let Ce=0;Ce<G;Ce++)ce[re=Ie*G+Ce]!=pt[re]&&(Ce<ye&&(ye=Ce),Ce>ke&&(ke=Ce),Ie<we&&(we=Ie),Ie>Pe&&(Pe=Ie));ke==-1&&(ye=we=ke=Pe=0),Y&&((1&ye)==1&&ye--,(1&we)==1&&we--);const et=(ke-ye+1)*(Pe-we+1);et<Je&&(Je=et,qe=Te,ue=ye,be=we,pe=ke-ye+1,Ee=Pe-we+1)}Ae=new Uint8Array(Z[K-1-qe]),qe==1&&(J[K-1].dispose=2),le=new Uint8Array(pe*Ee*4),k(Ae,G,te,le,pe,Ee,-ue,-be,0),je=k(ae,G,te,le,pe,Ee,-ue,-be,3)?1:0,je==1?n(ae,G,te,le,{x:ue,y:be,width:pe,height:Ee}):k(ae,G,te,le,pe,Ee,-ue,-be,0)}else le=ae.slice(0);J.push({rect:{x:ue,y:be,width:pe,height:Ee},img:le,blend:je,dispose:0})}if(oe)for(K=0;K<J.length;K++){if((Fe=J[K]).blend==1)continue;const ae=Fe.rect,ce=J[K-1].rect,ue=Math.min(ae.x,ce.x),be=Math.min(ae.y,ce.y),pe={x:ue,y:be,width:Math.max(ae.x+ae.width,ce.x+ce.width)-ue,height:Math.max(ae.y+ae.height,ce.y+ce.height)-be};J[K-1].dispose=1,K-1!=0&&i(Z,G,te,J,K-1,pe,Y),i(Z,G,te,J,K,pe,Y)}let Oe=0;if(Z.length!=1)for(var re=0;re<J.length;re++){var Fe;Oe+=(Fe=J[re]).rect.width*Fe.rect.height}return J}(u,s,b,_,v,E),V={},j=[],W=[];if(w!=0){const ne=[];for(D=0;D<Q.length;D++)ne.push(Q[D].img.buffer);const Z=function(Y){let se=0;for(var J=0;J<Y.length;J++)se+=Y[J].byteLength;const K=new Uint8Array(se);let le=0;for(J=0;J<Y.length;J++){const Ae=new Uint8Array(Y[J]),Oe=Ae.length;for(let re=0;re<Oe;re+=4){let Fe=Ae[re],ae=Ae[re+1],ce=Ae[re+2];const ue=Ae[re+3];ue==0&&(Fe=ae=ce=0),K[le+re]=Fe,K[le+re+1]=ae,K[le+re+2]=ce,K[le+re+3]=ue}le+=Oe}return K.buffer}(ne),G=U(Z,w);for(D=0;D<G.plte.length;D++)j.push(G.plte[D].est.rgba);let te=0;for(D=0;D<Q.length;D++){const oe=(X=Q[D]).img.length;var q=new Uint8Array(G.inds.buffer,te>>2,oe>>2);W.push(q);const Y=new Uint8Array(G.abuf,te,oe);T&&f(X.img,X.rect.width,X.rect.height,j,Y,q),X.img.set(Y),te+=oe}}else for(B=0;B<Q.length;B++){var X=Q[B];const ne=new Uint32Array(X.img.buffer);var ee=X.rect.width;for(N=ne.length,q=new Uint8Array(N),W.push(q),D=0;D<N;D++){const Z=ne[D];if(D!=0&&Z==ne[D-1])q[D]=q[D-1];else if(D>ee&&Z==ne[D-ee])q[D]=q[D-ee];else{let G=V[Z];if(G==null&&(V[Z]=G=j.length,j.push(Z),j.length>=300))break;q[D]=G}}}const _e=j.length;for(_e<=256&&a==0&&(O=_e<=2?1:_e<=4?2:_e<=16?4:8,O=Math.max(O,c)),B=0;B<Q.length;B++){(X=Q[B]).rect.x,X.rect.y,ee=X.rect.width;const ne=X.rect.height;let Z=X.img;new Uint32Array(Z.buffer);let G=4*ee,te=4;if(_e<=256&&a==0){G=Math.ceil(O*ee/8);var ge=new Uint8Array(G*ne);const oe=W[B];for(let Y=0;Y<ne;Y++){D=Y*G;const se=Y*ee;if(O==8)for(var $=0;$<ee;$++)ge[D+$]=oe[se+$];else if(O==4)for($=0;$<ee;$++)ge[D+($>>1)]|=oe[se+$]<<4-4*(1&$);else if(O==2)for($=0;$<ee;$++)ge[D+($>>2)]|=oe[se+$]<<6-2*(3&$);else if(O==1)for($=0;$<ee;$++)ge[D+($>>3)]|=oe[se+$]<<7-1*(7&$)}Z=ge,F=3,te=1}else if(x==0&&Q.length==1){ge=new Uint8Array(ee*ne*3);const oe=ee*ne;for(D=0;D<oe;D++){const Y=3*D,se=4*D;ge[Y]=Z[se],ge[Y+1]=Z[se+1],ge[Y+2]=Z[se+2]}Z=ge,F=2,te=3,G=3*ee}X.img=Z,X.bpl=G,X.bpp=te}return{ctype:F,depth:O,plte:j,frames:Q}}function i(u,s,b,w,y,_,v){const E=Uint8Array,c=Uint32Array,a=new E(u[y-1]),T=new c(u[y-1]),F=y+1<u.length?new E(u[y+1]):null,O=new E(u[y]),z=new c(O.buffer);let B=s,N=b,D=-1,x=-1;for(let V=0;V<_.height;V++)for(let j=0;j<_.width;j++){const W=_.x+j,q=_.y+V,X=q*s+W,ee=z[X];ee==0||w[y-1].dispose==0&&T[X]==ee&&(F==null||F[4*X+3]!=0)||(W<B&&(B=W),W>D&&(D=W),q<N&&(N=q),q>x&&(x=q))}D==-1&&(B=N=D=x=0),v&&((1&B)==1&&B--,(1&N)==1&&N--),_={x:B,y:N,width:D-B+1,height:x-N+1};const Q=w[y];Q.rect=_,Q.blend=1,Q.img=new Uint8Array(_.width*_.height*4),w[y-1].dispose==0?(k(a,s,b,Q.img,_.width,_.height,-_.x,-_.y,0),n(O,s,b,Q.img,_)):k(O,s,b,Q.img,_.width,_.height,-_.x,-_.y,0)}function n(u,s,b,w,y){k(u,s,b,w,y.width,y.height,-y.x,-y.y,2)}function o(u,s,b,w,y,_,v){const E=[];let c,a=[0,1,2,3,4];_!=-1?a=[_]:(s*w>5e5||b==1)&&(a=[0]),v&&(c={level:0});const T=Rt;for(var F=0;F<a.length;F++){for(let B=0;B<s;B++)h(y,u,B,w,b,a[F]);E.push(T.deflate(y,c))}let O,z=1e9;for(F=0;F<E.length;F++)E[F].length<z&&(O=F,z=E[F].length);return E[O]}function h(u,s,b,w,y,_){const v=b*w;let E=v+b;if(u[E]=_,E++,_==0)if(w<500)for(var c=0;c<w;c++)u[E+c]=s[v+c];else u.set(new Uint8Array(s.buffer,v,w),E);else if(_==1){for(c=0;c<y;c++)u[E+c]=s[v+c];for(c=y;c<w;c++)u[E+c]=s[v+c]-s[v+c-y]+256&255}else if(b==0){for(c=0;c<y;c++)u[E+c]=s[v+c];if(_==2)for(c=y;c<w;c++)u[E+c]=s[v+c];if(_==3)for(c=y;c<w;c++)u[E+c]=s[v+c]-(s[v+c-y]>>1)+256&255;if(_==4)for(c=y;c<w;c++)u[E+c]=s[v+c]-H(s[v+c-y],0,0)+256&255}else{if(_==2)for(c=0;c<w;c++)u[E+c]=s[v+c]+256-s[v+c-w]&255;if(_==3){for(c=0;c<y;c++)u[E+c]=s[v+c]+256-(s[v+c-w]>>1)&255;for(c=y;c<w;c++)u[E+c]=s[v+c]+256-(s[v+c-w]+s[v+c-y]>>1)&255}if(_==4){for(c=0;c<y;c++)u[E+c]=s[v+c]+256-H(0,s[v+c-w],0)&255;for(c=y;c<w;c++)u[E+c]=s[v+c]+256-H(s[v+c-y],s[v+c-w],s[v+c-y-w])&255}}}function U(u,s){const b=new Uint8Array(u),w=b.slice(0),y=new Uint32Array(w.buffer),_=C(w,s),v=_[0],E=_[1],c=b.length,a=new Uint8Array(c>>2);let T;if(b.length<2e7)for(var F=0;F<c;F+=4)T=m(v,O=b[F]*(1/255),z=b[F+1]*(1/255),B=b[F+2]*(1/255),N=b[F+3]*(1/255)),a[F>>2]=T.ind,y[F>>2]=T.est.rgba;else for(F=0;F<c;F+=4){var O=b[F]*.00392156862745098,z=b[F+1]*(1/255),B=b[F+2]*(1/255),N=b[F+3]*(1/255);for(T=v;T.left;)T=L(T.est,O,z,B,N)<=0?T.left:T.right;a[F>>2]=T.ind,y[F>>2]=T.est.rgba}return{abuf:w.buffer,inds:a,plte:E}}function C(u,s,b){b==null&&(b=1e-4);const w=new Uint32Array(u.buffer),y={i0:0,i1:u.length,bst:null,est:null,tdst:0,left:null,right:null};y.bst=P(u,y.i0,y.i1),y.est=g(y.bst);const _=[y];for(;_.length<s;){let E=0,c=0;for(var v=0;v<_.length;v++)_[v].est.L>E&&(E=_[v].est.L,c=v);if(E<b)break;const a=_[c],T=S(u,w,a.i0,a.i1,a.est.e,a.est.eMq255);if(a.i0>=T||a.i1<=T){a.est.L=0;continue}const F={i0:a.i0,i1:T,bst:null,est:null,tdst:0,left:null,right:null};F.bst=P(u,F.i0,F.i1),F.est=g(F.bst);const O={i0:T,i1:a.i1,bst:null,est:null,tdst:0,left:null,right:null};for(O.bst={R:[],m:[],N:a.bst.N-F.bst.N},v=0;v<16;v++)O.bst.R[v]=a.bst.R[v]-F.bst.R[v];for(v=0;v<4;v++)O.bst.m[v]=a.bst.m[v]-F.bst.m[v];O.est=g(O.bst),a.left=F,a.right=O,_[c]=F,_.push(O)}for(_.sort((E,c)=>c.bst.N-E.bst.N),v=0;v<_.length;v++)_[v].ind=v;return[y,_]}function m(u,s,b,w,y){if(u.left==null)return u.tdst=function(F,O,z,B,N){const D=O-F[0],x=z-F[1],Q=B-F[2],V=N-F[3];return D*D+x*x+Q*Q+V*V}(u.est.q,s,b,w,y),u;const _=L(u.est,s,b,w,y);let v=u.left,E=u.right;_>0&&(v=u.right,E=u.left);const c=m(v,s,b,w,y);if(c.tdst<=_*_)return c;const a=m(E,s,b,w,y);return a.tdst<c.tdst?a:c}function L(u,s,b,w,y){const{e:_}=u;return _[0]*s+_[1]*b+_[2]*w+_[3]*y-u.eMq}function S(u,s,b,w,y,_){for(w-=4;b<w;){for(;I(u,b,y)<=_;)b+=4;for(;I(u,w,y)>_;)w-=4;if(b>=w)break;const v=s[b>>2];s[b>>2]=s[w>>2],s[w>>2]=v,b+=4,w-=4}for(;I(u,b,y)>_;)b-=4;return b+4}function I(u,s,b){return u[s]*b[0]+u[s+1]*b[1]+u[s+2]*b[2]+u[s+3]*b[3]}function P(u,s,b){const w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y=[0,0,0,0],_=b-s>>2;for(let v=s;v<b;v+=4){const E=u[v]*.00392156862745098,c=u[v+1]*(1/255),a=u[v+2]*(1/255),T=u[v+3]*(1/255);y[0]+=E,y[1]+=c,y[2]+=a,y[3]+=T,w[0]+=E*E,w[1]+=E*c,w[2]+=E*a,w[3]+=E*T,w[5]+=c*c,w[6]+=c*a,w[7]+=c*T,w[10]+=a*a,w[11]+=a*T,w[15]+=T*T}return w[4]=w[1],w[8]=w[2],w[9]=w[6],w[12]=w[3],w[13]=w[7],w[14]=w[11],{R:w,m:y,N:_}}function g(u){const{R:s}=u,{m:b}=u,{N:w}=u,y=b[0],_=b[1],v=b[2],E=b[3],c=w==0?0:1/w,a=[s[0]-y*y*c,s[1]-y*_*c,s[2]-y*v*c,s[3]-y*E*c,s[4]-_*y*c,s[5]-_*_*c,s[6]-_*v*c,s[7]-_*E*c,s[8]-v*y*c,s[9]-v*_*c,s[10]-v*v*c,s[11]-v*E*c,s[12]-E*y*c,s[13]-E*_*c,s[14]-E*v*c,s[15]-E*E*c],T=a,F=R;let O=[Math.random(),Math.random(),Math.random(),Math.random()],z=0,B=0;if(w!=0)for(let D=0;D<16&&(O=F.multVec(T,O),B=Math.sqrt(F.dot(O,O)),O=F.sml(1/B,O),!(D!=0&&Math.abs(B-z)<1e-9));D++)z=B;const N=[y*c,_*c,v*c,E*c];return{Cov:a,q:N,e:O,L:z,eMq255:F.dot(F.sml(255,N),O),eMq:F.dot(O,N),rgba:(Math.round(255*N[3])<<24|Math.round(255*N[2])<<16|Math.round(255*N[1])<<8|Math.round(255*N[0])<<0)>>>0}}var R={multVec:(u,s)=>[u[0]*s[0]+u[1]*s[1]+u[2]*s[2]+u[3]*s[3],u[4]*s[0]+u[5]*s[1]+u[6]*s[2]+u[7]*s[3],u[8]*s[0]+u[9]*s[1]+u[10]*s[2]+u[11]*s[3],u[12]*s[0]+u[13]*s[1]+u[14]*s[2]+u[15]*s[3]],dot:(u,s)=>u[0]*s[0]+u[1]*s[1]+u[2]*s[2]+u[3]*s[3],sml:(u,s)=>[u*s[0],u*s[1],u*s[2],u*s[3]]};he.encode=function(s,b,w,y,_,v,E){y==null&&(y=0),E==null&&(E=!1);const c=r(s,b,w,y,[!1,!1,!1,0,E,!1]);return A(c,-1),p(c,b,w,_,v)},he.encodeLL=function(s,b,w,y,_,v,E,c){const a={ctype:0+(y==1?0:2)+(_==0?0:4),depth:v,frames:[]},T=(y+_)*v,F=T*b;for(let O=0;O<s.length;O++)a.frames.push({rect:{x:0,y:0,width:b,height:w},img:new Uint8Array(s[O]),blend:0,dispose:1,bpp:Math.ceil(T/8),bpl:Math.ceil(F/8)});return A(a,0,!0),p(a,b,w,E,c)},he.encode.compress=r,he.encode.dither=f,he.quantize=U,he.quantize.getKDtree=C,he.quantize.getNearest=m})();const it={toArrayBuffer(k,M){const H=k.width,d=k.height,e=H<<2,t=k.getContext("2d").getImageData(0,0,H,d),l=new Uint32Array(t.data.buffer),f=(32*H+31)/32<<2,p=f*d,A=122+p,r=new ArrayBuffer(A),i=new DataView(r),n=1<<20;let o,h,U,C,m=n,L=0,S=0,I=0;function P(u){i.setUint16(S,u,!0),S+=2}function g(u){i.setUint32(S,u,!0),S+=4}function R(u){S+=u}P(19778),g(A),R(4),g(122),g(108),g(H),g(-d>>>0),P(1),P(32),g(3),g(p),g(2835),g(2835),R(8),g(16711680),g(65280),g(255),g(4278190080),g(1466527264),function u(){for(;L<d&&m>0;){for(C=122+L*f,o=0;o<e;)m--,h=l[I++],U=h>>>24,i.setUint32(C+o,h<<8|U),o+=4;L++}I<l.length?(m=n,setTimeout(u,it._dly)):M(r)}()},toBlob(k,M){this.toArrayBuffer(k,H=>{M(new Blob([H],{type:"image/bmp"}))})},_dly:9};var fe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},kt={[fe.CHROME]:16384,[fe.FIREFOX]:11180,[fe.DESKTOP_SAFARI]:16384,[fe.IE]:8192,[fe.IOS]:4096,[fe.ETC]:8192};const Xe=typeof window<"u",ot=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ne=Xe&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Mt=(Xe||ot)&&(Ne&&Ne.getOriginalSymbol(window,"File")||typeof File<"u"&&File),at=(Xe||ot)&&(Ne&&Ne.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Ye(k,M,H=Date.now()){return new Promise(d=>{const e=k.split(","),t=e[0].match(/:(.*?);/)[1],l=globalThis.atob(e[1]);let f=l.length;const p=new Uint8Array(f);for(;f--;)p[f]=l.charCodeAt(f);const A=new Blob([p],{type:t});A.name=M,A.lastModified=H,d(A)})}function ft(k){return new Promise((M,H)=>{const d=new at;d.onload=()=>M(d.result),d.onerror=e=>H(e),d.readAsDataURL(k)})}function st(k){return new Promise((M,H)=>{const d=new Image;d.onload=()=>M(d),d.onerror=e=>H(e),d.src=k})}function Re(){if(Re.cachedResult!==void 0)return Re.cachedResult;let k=fe.ETC;const{userAgent:M}=navigator;return/Chrom(e|ium)/i.test(M)?k=fe.CHROME:/iP(ad|od|hone)/i.test(M)&&/WebKit/i.test(M)?k=fe.IOS:/Safari/i.test(M)?k=fe.DESKTOP_SAFARI:/Firefox/i.test(M)?k=fe.FIREFOX:(/MSIE/i.test(M)||document.documentMode)&&(k=fe.IE),Re.cachedResult=k,Re.cachedResult}function lt(k,M){const H=Re(),d=kt[H];let e=k,t=M,l=e*t;const f=e>t?t/e:e/t;for(;l>d*d;){const p=(d+e)/2,A=(d+t)/2;p<A?(t=A,e=A*f):(t=p*f,e=p),l=e*t}return{width:e,height:t}}function We(k,M){let H,d;try{if(H=new OffscreenCanvas(k,M),d=H.getContext("2d"),d===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{H=document.createElement("canvas"),d=H.getContext("2d")}return H.width=k,H.height=M,[H,d]}function ut(k,M){const{width:H,height:d}=lt(k.width,k.height),[e,t]=We(H,d);return M&&/jpe?g/.test(M)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(k,0,0,e.width,e.height),e}function De(){return De.cachedResult!==void 0||(De.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),De.cachedResult}function ze(k,M={}){return new Promise(function(H,d){let e,t;var l=function(){try{return t=ut(e,M.fileType||k.type),H([e,t])}catch(p){return d(p)}},f=function(p){try{var A=function(r){try{throw r}catch(i){return d(i)}};try{let r;return ft(k).then(function(i){try{return r=i,st(r).then(function(n){try{return e=n,function(){try{return l()}catch(o){return d(o)}}()}catch(o){return A(o)}},A)}catch(n){return A(n)}},A)}catch(r){A(r)}}catch(r){return d(r)}};try{if(De()||[fe.DESKTOP_SAFARI,fe.MOBILE_SAFARI].includes(Re()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(k).then(function(p){try{return e=p,l()}catch{return f()}},f)}catch{f()}})}function Qe(k,M,H,d,e=1){return new Promise(function(t,l){let f;if(M==="image/png"){let A,r,i;return A=k.getContext("2d"),{data:r}=A.getImageData(0,0,k.width,k.height),i=he.encode([r.buffer],k.width,k.height,4096*e),f=new Blob([i],{type:M}),f.name=H,f.lastModified=d,p.call(this)}{let A=function(){return p.call(this)};if(M==="image/bmp")return new Promise(r=>it.toBlob(k,r)).then((function(r){try{return f=r,f.name=H,f.lastModified=d,A.call(this)}catch(i){return l(i)}}).bind(this),l);{let r=function(){return A.call(this)};if(typeof OffscreenCanvas=="function"&&k instanceof OffscreenCanvas)return k.convertToBlob({type:M,quality:e}).then((function(i){try{return f=i,f.name=H,f.lastModified=d,r.call(this)}catch(n){return l(n)}}).bind(this),l);{let i;return i=k.toDataURL(M,e),Ye(i,H,d).then((function(n){try{return f=n,r.call(this)}catch(o){return l(o)}}).bind(this),l)}}}function p(){return t(f)}})}function me(k){k.width=0,k.height=0}function Se(){return new Promise(function(k,M){let H,d,e,t;return Se.cachedResult!==void 0?k(Se.cachedResult):Ye("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return H=l,ze(H).then(function(f){try{return d=f[1],Qe(d,H.type,H.name,H.lastModified).then(function(p){try{return e=p,me(d),ze(e).then(function(A){try{return t=A[0],Se.cachedResult=t.width===1&&t.height===2,k(Se.cachedResult)}catch(r){return M(r)}},M)}catch(A){return M(A)}},M)}catch(p){return M(p)}},M)}catch(f){return M(f)}},M)})}function ct(k){return new Promise((M,H)=>{const d=new at;d.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return M(-2);const l=t.byteLength;let f=2;for(;f<l;){if(t.getUint16(f+2,!1)<=8)return M(-1);const p=t.getUint16(f,!1);if(f+=2,p==65505){if(t.getUint32(f+=2,!1)!=1165519206)return M(-1);const A=t.getUint16(f+=6,!1)==18761;f+=t.getUint32(f+4,A);const r=t.getUint16(f,A);f+=2;for(let i=0;i<r;i++)if(t.getUint16(f+12*i,A)==274)return M(t.getUint16(f+12*i+8,A))}else{if((65280&p)!=65280)break;f+=t.getUint16(f,!1)}}return M(-1)},d.onerror=e=>H(e),d.readAsArrayBuffer(k)})}function dt(k,M){const{width:H}=k,{height:d}=k,{maxWidthOrHeight:e}=M;let t,l=k;return isFinite(e)&&(H>e||d>e)&&([l,t]=We(H,d),H>d?(l.width=e,l.height=d/H*e):(l.width=H/d*e,l.height=e),t.drawImage(k,0,0,l.width,l.height),me(k)),l}function ht(k,M){const{width:H}=k,{height:d}=k,[e,t]=We(H,d);switch(M>4&&M<9?(e.width=d,e.height=H):(e.width=H,e.height=d),M){case 2:t.transform(-1,0,0,1,H,0);break;case 3:t.transform(-1,0,0,-1,H,d);break;case 4:t.transform(1,0,0,-1,0,d);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,d,0);break;case 7:t.transform(0,-1,-1,0,d,H);break;case 8:t.transform(0,-1,1,0,0,H)}return t.drawImage(k,0,0,H,d),me(k),e}function nt(k,M,H=0){return new Promise(function(d,e){let t,l,f,p,A,r,i,n,o,h,U,C,m,L,S,I,P,g,R,u;function s(w=5){if(M.signal&&M.signal.aborted)throw M.signal.reason;t+=w,M.onProgress(Math.min(t,100))}function b(w){if(M.signal&&M.signal.aborted)throw M.signal.reason;t=Math.min(Math.max(w,t),100),M.onProgress(t)}return t=H,l=M.maxIteration||10,f=1024*M.maxSizeMB*1024,s(),ze(k,M).then((function(w){try{return[,p]=w,s(),A=dt(p,M),s(),new Promise(function(y,_){var v;if(!(v=M.exifOrientation))return ct(k).then((function(c){try{return v=c,E.call(this)}catch(a){return _(a)}}).bind(this),_);function E(){return y(v)}return E.call(this)}).then((function(y){try{return r=y,s(),Se().then((function(_){try{return i=_?A:ht(A,r),s(),n=M.initialQuality||1,o=M.fileType||k.type,Qe(i,o,k.name,k.lastModified,n).then((function(v){try{{let c=function(){if(l--&&(S>f||S>m)){let T,F;return T=u?.95*R.width:R.width,F=u?.95*R.height:R.height,[P,g]=We(T,F),g.drawImage(R,0,0,T,F),n*=o==="image/png"?.85:.95,Qe(P,o,k.name,k.lastModified,n).then(function(O){try{return I=O,me(R),R=P,S=I.size,b(Math.min(99,Math.floor((L-S)/(L-f)*100))),c}catch(z){return e(z)}},e)}return[1]},a=function(){return me(R),me(P),me(A),me(i),me(p),b(100),d(I)};if(h=v,s(),U=h.size>f,C=h.size>k.size,!U&&!C)return b(100),d(h);var E;return m=k.size,L=h.size,S=L,R=i,u=!M.alwaysKeepResolution&&U,(E=(function(T){for(;T;){if(T.then)return void T.then(E,e);try{if(T.pop){if(T.length)return T.pop()?a.call(this):T;T=c}else T=T.call(this)}catch(F){return e(F)}}}).bind(this))(c)}}catch(c){return e(c)}}).bind(this),e)}catch(v){return e(v)}}).bind(this),e)}catch(_){return e(_)}}).bind(this),e)}catch(y){return e(y)}}).bind(this),e)})}const St=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let $e;function Tt(k,M){return new Promise((H,d)=>{$e||($e=function(l){const f=[];return f.push(l),URL.createObjectURL(new Blob(f))}(St));const e=new Worker($e);e.addEventListener("message",function(l){if(M.signal&&M.signal.aborted)e.terminate();else if(l.data.progress===void 0){if(l.data.error)return d(new Error(l.data.error)),void e.terminate();H(l.data.file),e.terminate()}else M.onProgress(l.data.progress)}),e.addEventListener("error",d),M.signal&&M.signal.addEventListener("abort",()=>{d(M.signal.reason),e.terminate()}),e.postMessage({file:k,imageCompressionLibUrl:M.libURL,options:{...M,onProgress:void 0,signal:void 0}})})}function ie(k,M){return new Promise(function(H,d){let e,t,l,f,p,A;if(e={...M},l=0,{onProgress:f}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,p=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=o=>{l=o,typeof f=="function"&&f(l)},!(k instanceof Blob||k instanceof Mt))return d(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(k.type))return d(new Error("The file given is not an image"));if(A=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!p||typeof Worker!="function"||A)return nt(k,e).then((function(o){try{return t=o,n.call(this)}catch(h){return d(h)}}).bind(this),d);var r=(function(){try{return n.call(this)}catch(o){return d(o)}}).bind(this),i=function(o){try{return nt(k,e).then(function(h){try{return t=h,r()}catch(U){return d(U)}},d)}catch(h){return d(h)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Tt(k,e).then(function(o){try{return t=o,r()}catch{return i()}},i)}catch{i()}function n(){try{t.name=k.name,t.lastModified=k.lastModified}catch{}try{e.preserveExif&&k.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===k.type)&&(t=rt(k,t))}catch{}return H(t)}})}ie.getDataUrlFromFile=ft,ie.getFilefromDataUrl=Ye,ie.loadImage=st,ie.drawImageInCanvas=ut,ie.drawFileInCanvas=ze,ie.canvasToFile=Qe,ie.getExifOrientation=ct,ie.handleMaxWidthOrHeight=dt,ie.followExifOrientation=ht,ie.cleanupCanvasMemory=me,ie.isAutoOrientationInBrowser=Se,ie.approximateBelowMaximumCanvasSizeOfBrowser=lt,ie.copyExifWithoutOrientation=rt,ie.getBrowserName=Re,ie.version="2.0.2";const Pt={class:"page-container"},Ot={key:0},Lt={key:0},Ht=vt({__name:"ItemEdit",setup(k){const M=wt(),H=Ut(),d=Ft(),e=Le(null),t=mt({remarks:""}),l=Le([]),f=Le(!1),p=Le(!1),A=bt(()=>{if(!e.value?.photoUrl)return null;try{const o=new URL(At.defaults.baseURL||window.location.origin),h=new URL(o.origin);return new URL(e.value.photoUrl,h).href}catch(o){return console.error("Invalid URL:",o),e.value.photoUrl}});yt(async()=>{const o=M.params.id;let h=d.items.find(U=>U.id===o);h||(await d.fetchItems({id:o}),h=d.items.find(U=>U.id===o)),h?(e.value=h,t.remarks=h.remarks||""):(xe.error("未找到物品"),H.back())});const r=async o=>{if(l.value=o.fileList.slice(-1),l.value&&l.value.length>0&&l.value[0].originFileObj){p.value=!0,xe.loading({content:"正在压缩图片...",key:"compressing"});try{const h=l.value[0].originFileObj,C=await ie(h,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0});t.photo=C,f.value=!1,xe.success({content:"图片压缩成功!",key:"compressing",duration:2})}catch(h){xe.error({content:"图片压缩失败!",key:"compressing",duration:2}),console.error(h),t.photo=void 0,l.value=[]}finally{p.value=!1}}else t.photo=void 0},i=()=>{f.value=!0,l.value=[],t.photo=void 0,xe.info("照片已标记为删除。保存后生效。")},n=async()=>{if(e.value)try{await d.updateItem(e.value.id,{remarks:t.remarks,photo:t.photo,deletePhoto:f.value}),xe.success("物品信息已更新"),H.back()}catch{xe.error("更新失败")}};return(o,h)=>{const U=ve("a-page-header"),C=ve("a-textarea"),m=ve("a-form-item"),L=ve("a-upload"),S=ve("a-image"),I=ve("a-button"),P=ve("a-empty"),g=ve("a-form"),R=ve("a-card"),u=ve("a-skeleton");return Me(),Ge("div",null,[de(U,{title:`编辑物品: ${e.value?.shortId}`,onBack:h[0]||(h[0]=()=>He(H).back())},null,8,["title"]),Ke("div",Pt,[!He(d).loading&&e.value?(Me(),Ve(R,{key:0},{default:Ue(()=>[de(g,{model:t,onFinish:n,layout:"vertical"},{default:Ue(()=>[de(m,{label:"备注"},{default:Ue(()=>[de(C,{value:t.remarks,"onUpdate:value":h[1]||(h[1]=s=>t.remarks=s),rows:4},null,8,["value"])]),_:1}),de(m,{label:"更换照片"},{default:Ue(()=>[de(L,{"file-list":l.value,"onUpdate:fileList":h[2]||(h[2]=s=>l.value=s),"before-upload":()=>!1,onChange:r,"list-type":"picture-card","max-count":1},{default:Ue(()=>[!l.value||l.value.length<1?(Me(),Ge("div",Ot,[de(He(_t)),h[3]||(h[3]=Ke("div",{style:{"margin-top":"8px"}},"上传",-1))])):Ze("",!0)]),_:1},8,["file-list"]),A.value&&!f.value?(Me(),Ge("div",Lt,[h[5]||(h[5]=Ke("p",null,"当前照片:",-1)),de(S,{width:100,src:A.value},null,8,["src"]),de(I,{type:"link",danger:"",onClick:i},{default:Ue(()=>h[4]||(h[4]=[tt("删除照片",-1)])),_:1,__:[4]})])):Ze("",!0),!A.value&&!l.value?.length?(Me(),Ve(P,{key:1,description:"暂无照片"})):Ze("",!0)]),_:1}),de(m,null,{default:Ue(()=>[de(I,{type:"primary","html-type":"submit",loading:He(d).loading||p.value},{default:Ue(()=>h[6]||(h[6]=[tt(" 保存更改 ",-1)])),_:1,__:[6]},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})):(Me(),Ve(u,{key:1,active:""}))])])}}}),zt=Et(Ht,[["__scopeId","data-v-90b780ae"]]);export{zt as default};
